(()=>{"use strict";var e={form:".popup__form",input:".popup__input",inputInvalidClass:"error_invalid",submitButton:".popup__save",inactiveButtonClass:"popup__save_invalid"};function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._title=t.name,this._link=t.link,this._cardSelector=n,this._handleCardClick=r}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__delete-button").addEventListener("click",(function(){return e._handleDeleteCard()})),this._element.querySelector(".element__like-button").addEventListener("click",(function(){return e._handleLikeCard()})),this._element.querySelector(".element__cover").addEventListener("click",(function(){return e._handleCardClick({title:e._title,link:e._link})}))}},{key:"renderCard",value:function(){this._element=this._getTemplate();var e=this._element.querySelector(".element__cover"),t=this._element.querySelector(".element__title");return e.src=this._link,t.textContent=this._title,e.alt=this._title,this._setEventListeners(),this._element}},{key:"_handleDeleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_handleLikeCard",value:function(){this._element.querySelector(".element__like-button").classList.toggle("element__like-button_active")}}])&&t(n.prototype,r),e}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"_isValid",(function(e){var t=r._form.querySelector("#".concat(e.name,"-error"));!e.validity.valid||e.validity.typeMismatch?(t.textContent=e.validationMessage,t.classList.add(r._inputInvalidClass)):(t.textContent=e.validationMessage,t.classList.remove(r._inputInvalidClass))})),o(this,"_setEventListeners",(function(){r._formInputs.forEach((function(e){e.addEventListener("input",(function(){r._isValid(e),r.setSubmitButtonState()}))}))})),o(this,"enableValidation",(function(){r._setEventListeners(),r._form.addEventListener("submit",(function(e){e.preventDefault()}))})),this._form=n,this._formInputs=Array.from(this._form.querySelectorAll(t.input)),this._input=t.input,this._inputInvalidClass=t.inputInvalidClass,this._submitButton=this._form.querySelector(t.submitButton),this._inactiveButtonClass=t.inactiveButtonClass}var t,n;return t=e,(n=[{key:"setSubmitButtonState",value:function(){this._form.checkValidity()?(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.removeAttribute("disabled")):(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.setAttribute("disabled","disabled"))}},{key:"resetError",value:function(){var e=this;this._formInputs.forEach((function(t){var n=e._form.querySelector("#".concat(t.name,"-error"));n.textContent="",n.classList.remove(e._inputInvalidClass)})),this.setSubmitButtonState()}}])&&r(t.prototype,n),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t,this._container=n}var t,n;return t=e,(n=[{key:"addCard",value:function(e){this._container.prepend(e)}},{key:"addInitialCards",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&u(t.prototype,n),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._closeEscPopup=this._closeEscPopup.bind(this),this._closeOverlayClick=this._closeOverlayClick.bind(this),this._popupButtonClose=this._popup.querySelector(".popup__close")}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._closeEscPopup),this._popup.addEventListener("mousedown",this._closeOverlayClick)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._closeEscPopup),this._popup.removeEventListener("mousedown",this._closeOverlayClick)}},{key:"_handleCloseButton",value:function(e){(e.target.classList.contains("popup")||e.target.classList.contains("popup__close"))&&this.close()}},{key:"_closeEscPopup",value:function(e){"Escape"===e.key&&this.close()}},{key:"_closeOverlayClick",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupButtonClose.addEventListener("click",(function(t){return e._handleCloseButton(t)}))}}])&&l(t.prototype,n),e}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._link=t._popup.querySelector(".popup__image"),t._title=t._popup.querySelector(".popup__subtitle"),t}return t=u,(n=[{key:"open",value:function(e){this._link.src=e.link,this._link.alt=e.title,this._title.textContent=e.title,p(y(u.prototype),"open",this).call(this)}}])&&f(t.prototype,n),u}(c);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._popupForm=n._popup.querySelector(".popup__form"),n._formSubmit=t,n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputs=Array.from(this._popupForm.querySelectorAll(".popup__input")),this._inputValues={},this._inputs.forEach((function(t){return e._inputValues[t.name]=t.value})),this._inputValues}},{key:"setEventListeners",value:function(){var e=this;b(S(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._formSubmit(e._getInputValues()),e.close()}))}},{key:"close",value:function(){b(S(u.prototype),"close",this).call(this),this._popupForm.reset()}}])&&m(t.prototype,n),u}(c);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._about=n}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about}}])&&C(t.prototype,n),e}();function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getProfile",value:function(){return fetch("".concat(this._baseUrl,"users/me"),{headers:this._headers}).then(this._handleResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"cards"),{headers:this._headers}).then(this._handleResponse)}},{key:"getData",value:function(){return Promise.all([this.getInitialCards(),this.getProfile()])}}])&&O(t.prototype,n),e}();function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=document.querySelector(".profile__edit-button"),q=document.querySelector(".profile-popup"),B=document.querySelector(".profile"),I=q.querySelector(".popup__form"),R=B.querySelector(".profile__name"),T=q.querySelector(".popup__input_field_name"),x=B.querySelector(".profile__description"),A=q.querySelector(".popup__input_field_description"),V=B.querySelector(".profile__add-card"),U=document.querySelector(".card-popup"),D=document.querySelector(".elements"),F=U.querySelector(".popup__form"),M=new v(document.querySelector(".image-popup"));function z(e,t){M.open(e,t)}function N(e){return new n(e,".card-template",z).renderCard()}M.setEventListeners();var $=new a((function(e){$.addCard(N(e))}),D);new L({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-27/",headers:{authorization:"26c8d168-5e2f-4321-b420-05dcb41e9965","Content-Type":"application/json"}}).getData().then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0];r[1],$.addInitialCards(o)}));var G=new i(e,F);G.enableValidation();var H=new w(U,(function(e){$.addCard(N(e))}));H.setEventListeners();var J=new i(e,I);J.enableValidation();var K=new w(q,(function(e){Q.setUserInfo(e)}));K.setEventListeners();var Q=new E(R,x);j.addEventListener("click",(function(){K.open(),J.resetError();var e=Q.getUserInfo();T.value=e.name,A.value=e.about})),V.addEventListener("click",(function(){H.open(),G.resetError()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy92YWxpZGF0aW9uQ29uZmlnLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL3ZhbGlkYXRlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwibmFtZXMiOlsiZW5hYmxlVmFsaWRhdGlvbkNvbmZpZyIsImZvcm0iLCJpbnB1dCIsImlucHV0SW52YWxpZENsYXNzIiwic3VibWl0QnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIkNhcmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwidGhpcyIsIl90aXRsZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9oYW5kbGVMaWtlQ2FyZCIsInRpdGxlIiwiX2dldFRlbXBsYXRlIiwiY2FyZENvdmVyIiwiY2FyZFRpdGxlIiwic3JjIiwidGV4dENvbnRlbnQiLCJhbHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmUiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUlucHV0Iiwic3BhbiIsIl9mb3JtIiwidmFsaWRpdHkiLCJ2YWxpZCIsInR5cGVNaXNtYXRjaCIsInZhbGlkYXRpb25NZXNzYWdlIiwiYWRkIiwiX2lucHV0SW52YWxpZENsYXNzIiwiX2Zvcm1JbnB1dHMiLCJmb3JFYWNoIiwiX2lzVmFsaWQiLCJzZXRTdWJtaXRCdXR0b25TdGF0ZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2lucHV0IiwiX3N1Ym1pdEJ1dHRvbiIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiY2hlY2tWYWxpZGl0eSIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIlNlY3Rpb24iLCJyZW5kZXJlciIsImNhcmRDb250YWluZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiY2FyZCIsInByZXBlbmQiLCJjYXJkcyIsIml0ZW0iLCJQb3B1cCIsInBvcHVwIiwiX3BvcHVwIiwiX2Nsb3NlRXNjUG9wdXAiLCJiaW5kIiwiX2Nsb3NlT3ZlcmxheUNsaWNrIiwiX3BvcHVwQnV0dG9uQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJjbG9zZSIsImtleSIsImN1cnJlbnRUYXJnZXQiLCJfaGFuZGxlQ2xvc2VCdXR0b24iLCJQb3B1cFdpdGhJbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJmb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9mb3JtU3VibWl0IiwiX2lucHV0cyIsIl9pbnB1dFZhbHVlcyIsInZhbHVlIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJVc2VySW5mbyIsImFib3V0IiwiX25hbWUiLCJfYWJvdXQiLCJwcm9maWxlIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9oYW5kbGVSZXNwb25zZSIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFByb2ZpbGUiLCJidXR0b25FZGl0UHJvZmlsZSIsInBvcHVwUHJvZmlsZSIsImZvcm1FbGVtZW50IiwicHJvZmlsZU5hbWUiLCJpbnB1dEZpZWxkTmFtZSIsInByb2ZpbGVBYm91dCIsImlucHV0RmllbGREZXNjIiwiYnV0dG9uQWRkQ2FyZFBvcHVwIiwicG9wdXBDYXJkIiwiY2FyZEVsZW1lbnRzIiwiY2FyZEVsZW1lbnQiLCJoYW5kbGVPcGVuSW1hZ2UiLCJvcGVuIiwiY2FyZFJlbmRlcmVyIiwiY2FyZEl0ZW0iLCJyZW5kZXJDYXJkIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJyZW5kZXJDYXJkcyIsImFkZENhcmQiLCJhdXRob3JpemF0aW9uIiwiZ2V0RGF0YSIsImFkZEluaXRpYWxDYXJkcyIsImZvcm1WYWxpZGF0b3JDYXJkIiwiZW5hYmxlVmFsaWRhdGlvbiIsInBvcHVwQWRkQ2FyZCIsImZvcm1WYWxpZGF0b3JQcm9maWxlIiwicG9wdXBFZGl0UHJvZmlsZSIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJyZXNldEVycm9yIiwiZ2V0VXNlckluZm8iXSwibWFwcGluZ3MiOiJtQkFBTyxJQUFNQSxFQUF5QixDQUNwQ0MsS0FBTSxlQUNOQyxNQUFPLGdCQUNQQyxrQkFBbUIsZ0JBQ25CQyxhQUFjLGVBQ2RDLG9CQUFxQix1QiwwS0NMakJDLEUsV0FDTCxXQUFZQyxFQUFNQyxFQUFjQyxJLDRGQUFpQixTQUNoREMsS0FBS0MsT0FBU0osRUFBS0ssS0FDbkJGLEtBQUtHLE1BQVFOLEVBQUtPLEtBQ2hCSixLQUFLSyxjQUFnQlAsRUFDckJFLEtBQUtNLGlCQUFtQlAsRSxpREFHMUIsV0FPRSxPQU5hUSxTQUNWQyxjQUFjUixLQUFLSyxlQUNuQkksUUFDQUQsY0FBYyxZQUNkRSxXQUFVLEssZ0NBSWYsV0FBcUIsV0FDbkJWLEtBQUtXLFNBQVNILGNBQWMsMkJBQTJCSSxpQkFBaUIsU0FBUyxrQkFBTSxFQUFLQyx1QkFDNUZiLEtBQUtXLFNBQVNILGNBQWMseUJBQXlCSSxpQkFBaUIsU0FBUyxrQkFBTSxFQUFLRSxxQkFDMUZkLEtBQUtXLFNBQVNILGNBQWMsbUJBQW1CSSxpQkFBaUIsU0FBUyxrQkFBTSxFQUFLTixpQkFBaUIsQ0FBQ1MsTUFBTyxFQUFLZCxPQUFRRyxLQUFNLEVBQUtELGEsd0JBR3ZJLFdBQ0VILEtBQUtXLFNBQVdYLEtBQUtnQixlQUVyQixJQUFNQyxFQUFZakIsS0FBS1csU0FBU0gsY0FBYyxtQkFDeENVLEVBQVlsQixLQUFLVyxTQUFTSCxjQUFjLG1CQVE5QyxPQU5BUyxFQUFVRSxJQUFNbkIsS0FBS0csTUFDckJlLEVBQVVFLFlBQWNwQixLQUFLQyxPQUM3QmdCLEVBQVVJLElBQU1yQixLQUFLQyxPQUVyQkQsS0FBS3NCLHFCQUVFdEIsS0FBS1csVywrQkFHZCxXQUNFWCxLQUFLVyxTQUFTWSxTQUNkdkIsS0FBS1csU0FBVyxPLDZCQUdsQixXQUNFWCxLQUFLVyxTQUFTSCxjQUFjLHlCQUF5QmdCLFVBQVVDLE9BQU8sb0Msd1RDNUNwRUMsRSxXQUNKLFdBQVk3QixFQUFNTixHQUFNLFksNEZBQUEsNEJBNkJiLFNBQUNvQyxHQUNWLElBQU1DLEVBQU8sRUFBS0MsTUFBTXJCLGNBQVgsV0FBNkJtQixFQUFVekIsS0FBdkMsWUFFUnlCLEVBQVVHLFNBQVNDLE9BQVNKLEVBQVVHLFNBQVNFLGNBQ2xESixFQUFLUixZQUFjTyxFQUFVTSxrQkFDN0JMLEVBQUtKLFVBQVVVLElBQUksRUFBS0Msc0JBRXhCUCxFQUFLUixZQUFjTyxFQUFVTSxrQkFDN0JMLEVBQUtKLFVBQVVELE9BQU8sRUFBS1ksd0JBckNQLDZCQXlDSCxXQUNuQixFQUFLQyxZQUFZQyxTQUFRLFNBQUNWLEdBQ3hCQSxFQUFVZixpQkFBaUIsU0FBUyxXQUNsQyxFQUFLMEIsU0FBU1gsR0FDZCxFQUFLWSxnQ0E3Q2EsMkJBbURMLFdBQ2pCLEVBQUtqQixxQkFDTCxFQUFLTyxNQUFNakIsaUJBQWlCLFVBQVUsU0FBQzRCLEdBQ3JDQSxFQUFNQyx1QkFyRFJ6QyxLQUFLNkIsTUFBUXRDLEVBQ2JTLEtBQUtvQyxZQUFjTSxNQUFNQyxLQUFLM0MsS0FBSzZCLE1BQU1lLGlCQUFpQi9DLEVBQUtMLFFBRS9EUSxLQUFLNkMsT0FBU2hELEVBQUtMLE1BQ25CUSxLQUFLbUMsbUJBQXFCdEMsRUFBS0osa0JBQy9CTyxLQUFLOEMsY0FBZ0I5QyxLQUFLNkIsTUFBTXJCLGNBQWNYLEVBQUtILGNBQ25ETSxLQUFLK0MscUJBQXVCbEQsRUFBS0Ysb0IseURBSW5DLFdBQ2tCSyxLQUFLNkIsTUFBTW1CLGlCQUd6QmhELEtBQUs4QyxjQUFjdEIsVUFBVUQsT0FBT3ZCLEtBQUsrQyxzQkFDekMvQyxLQUFLOEMsY0FBY0csZ0JBQWdCLGNBRW5DakQsS0FBSzhDLGNBQWN0QixVQUFVVSxJQUFJbEMsS0FBSytDLHNCQUN0Qy9DLEtBQUs4QyxjQUFjSSxhQUFhLFdBQVksZSx3QkF1Q2hELFdBQWEsV0FDWGxELEtBQUtvQyxZQUFZQyxTQUFRLFNBQUNWLEdBQ3hCLElBQU1DLEVBQU8sRUFBS0MsTUFBTXJCLGNBQVgsV0FBNkJtQixFQUFVekIsS0FBdkMsV0FDYjBCLEVBQUtSLFlBQWMsR0FDbkJRLEVBQUtKLFVBQVVELE9BQU8sRUFBS1ksdUJBRTdCbkMsS0FBS3VDLDRCLGdNQ2pFWVksRSxXQUNuQixXQUFZQyxFQUFVQyxJLDRGQUFlLFNBQ25DckQsS0FBS3NELFVBQVlGLEVBQ2pCcEQsS0FBS3VELFdBQWFGLEUsNENBRXBCLFNBQVFHLEdBQ054RCxLQUFLdUQsV0FBV0UsUUFBUUQsSyw2QkFFMUIsU0FBZ0JFLEdBQU8sV0FDckJBLEVBQU1yQixTQUFRLFNBQUNzQixHQUNkLEVBQUtMLFVBQVVLLFcsZ01DVkNDLEUsV0FDbkIsV0FBWUMsSSw0RkFBTyxTQUNqQjdELEtBQUs4RCxPQUFTRCxFQUNkN0QsS0FBSytELGVBQWlCL0QsS0FBSytELGVBQWVDLEtBQUtoRSxNQUMvQ0EsS0FBS2lFLG1CQUFxQmpFLEtBQUtpRSxtQkFBbUJELEtBQUtoRSxNQUN2REEsS0FBS2tFLGtCQUFvQmxFLEtBQUs4RCxPQUFPdEQsY0FBYyxpQix5Q0FHckQsV0FDRVIsS0FBSzhELE9BQU90QyxVQUFVVSxJQUFJLGdCQUUxQjNCLFNBQVNLLGlCQUFpQixVQUFXWixLQUFLK0QsZ0JBRTFDL0QsS0FBSzhELE9BQU9sRCxpQkFBaUIsWUFBYVosS0FBS2lFLHNCLG1CQUdqRCxXQUNFakUsS0FBSzhELE9BQU90QyxVQUFVRCxPQUFPLGdCQUU3QmhCLFNBQVM0RCxvQkFBb0IsVUFBV25FLEtBQUsrRCxnQkFDN0MvRCxLQUFLOEQsT0FBT0ssb0JBQW9CLFlBQWFuRSxLQUFLaUUsc0IsZ0NBR3BELFNBQW1CRyxJQUNkQSxFQUFJQyxPQUFPN0MsVUFBVThDLFNBQVMsVUFBWUYsRUFBSUMsT0FBTzdDLFVBQVU4QyxTQUFTLGtCQUN6RXRFLEtBQUt1RSxVLDRCQUlULFNBQWVILEdBQ0csV0FBWkEsRUFBSUksS0FDTnhFLEtBQUt1RSxVLGdDQUlULFNBQW1CSCxHQUNiQSxFQUFJQyxTQUFXRCxFQUFJSyxlQUNyQnpFLEtBQUt1RSxVLCtCQUtULFdBQW9CLFdBQ2xCdkUsS0FBS2tFLGtCQUFrQnRELGlCQUFpQixTQUFTLFNBQUN3RCxHQUFELE9BQVMsRUFBS00sbUJBQW1CTixXLHdtQ0N6Q2pFTyxFLHVwQkFDbkIsV0FBWWQsR0FBTyxhLDRGQUFBLFVBQ2pCLGNBQU1BLElBQ0QxRCxNQUFRLEVBQUsyRCxPQUFPdEQsY0FBYyxpQkFDdkMsRUFBS1AsT0FBUyxFQUFLNkQsT0FBT3RELGNBQWMsb0JBSHZCLEUsaUNBTW5CLFNBQUtYLEdBQ0hHLEtBQUtHLE1BQU1nQixJQUFNdEIsRUFBS08sS0FDdEJKLEtBQUtHLE1BQU1rQixJQUFNeEIsRUFBS2tCLE1BQ3RCZixLQUFLQyxPQUFPbUIsWUFBY3ZCLEVBQUtrQixNQUMvQiw4QyxvQkFYd0M2QyxHLGtsQ0NBdkJnQixFLHVwQkFDbkIsV0FBWWYsRUFBT2dCLEdBQVksYSw0RkFBQSxVQUM3QixjQUFNaEIsSUFDRGlCLFdBQWEsRUFBS2hCLE9BQU90RCxjQUFjLGdCQUM1QyxFQUFLdUUsWUFBY0YsRUFIVSxFLDRDQU0vQixXQUFrQixXQUloQixPQUhBN0UsS0FBS2dGLFFBQVV0QyxNQUFNQyxLQUFLM0MsS0FBSzhFLFdBQVdsQyxpQkFBaUIsa0JBQzNENUMsS0FBS2lGLGFBQWUsR0FDcEJqRixLQUFLZ0YsUUFBUTNDLFNBQVEsU0FBQzdDLEdBQUQsT0FBVyxFQUFLeUYsYUFBYXpGLEVBQU1VLE1BQVFWLEVBQU0wRixTQUMvRGxGLEtBQUtpRixlLCtCQUdkLFdBQW9CLFdBQ2xCLHNEQUVBakYsS0FBSzhFLFdBQVdsRSxpQkFBaUIsVUFBVSxTQUFDd0QsR0FDMUNBLEVBQUkzQixpQkFDSixFQUFLc0MsWUFBWSxFQUFLSSxtQkFDdEIsRUFBS1osYSxtQkFJVCxXQUNFLDBDQUNBdkUsS0FBSzhFLFdBQVdNLGEsb0JBMUJ1QnhCLEcsMEtDRnRCeUIsRSxXQUNuQixXQUFZbkYsRUFBTW9GLEksNEZBQU8sU0FDdkJ0RixLQUFLdUYsTUFBUXJGLEVBQ2JGLEtBQUt3RixPQUFTRixFLGdEQUdoQixXQUNFLE1BQU8sQ0FDTHBGLEtBQU1GLEtBQUt1RixNQUFNbkUsWUFDakJrRSxNQUFPdEYsS0FBS3dGLE9BQU9wRSxlLHlCQUl2QixTQUFZcUUsR0FDVnpGLEtBQUt1RixNQUFNbkUsWUFBY3FFLEVBQVF2RixLQUNqQ0YsS0FBS3dGLE9BQU9wRSxZQUFjcUUsRUFBUUgsVyxnTUNmakJJLEUsV0FDbkIsY0FBa0MsSUFBcEJDLEVBQW9CLEVBQXBCQSxRQUFTQyxFQUFXLEVBQVhBLFMsNEZBQVcsU0FDaEM1RixLQUFLNkYsU0FBV0YsRUFDaEIzRixLQUFLOEYsU0FBV0YsRSxvREFHbEIsU0FBZ0JHLEdBQ2QsT0FBSUEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFTkMsUUFBUUMsT0FBUixrQkFBMEJKLEVBQUlLLFcsd0JBR3ZDLFdBQ0UsT0FBT0MsTUFBTSxHQUFELE9BQUlyRyxLQUFLNkYsU0FBVCxZQUE2QixDQUN2Q0QsUUFBUzVGLEtBQUs4RixXQUVmUSxLQUFLdEcsS0FBS3VHLG1CLDZCQUdiLFdBQ0UsT0FBT0YsTUFBTSxHQUFELE9BQUlyRyxLQUFLNkYsU0FBVCxTQUEwQixDQUNwQ0QsUUFBUzVGLEtBQUs4RixXQUVmUSxLQUFLdEcsS0FBS3VHLG1CLHFCQUViLFdBQ0UsT0FBT0wsUUFBUU0sSUFBSSxDQUFDeEcsS0FBS3lHLGtCQUFtQnpHLEtBQUswRyxvQixnSUNkckQsSUFBTUMsRUFBb0JwRyxTQUFTQyxjQUFjLHlCQUMzQ29HLEVBQWVyRyxTQUFTQyxjQUFjLGtCQUN0Q2lGLEVBQVVsRixTQUFTQyxjQUFjLFlBQ2pDcUcsRUFBY0QsRUFBYXBHLGNBQWMsZ0JBQ3pDc0csRUFBY3JCLEVBQVFqRixjQUFjLGtCQUNwQ3VHLEVBQWlCSCxFQUFhcEcsY0FBYyw0QkFDNUN3RyxFQUFldkIsRUFBUWpGLGNBQWMseUJBQ3JDeUcsRUFBaUJMLEVBQWFwRyxjQUFjLG1DQUM1QzBHLEVBQXFCekIsRUFBUWpGLGNBQWMsc0JBQzNDMkcsRUFBWTVHLFNBQVNDLGNBQWMsZUFDbkM0RyxFQUFlN0csU0FBU0MsY0FBYyxhQUN0QzZHLEVBQWNGLEVBQVUzRyxjQUFjLGdCQVF0QzhHLEVBQWtCLElBQUkzQyxFQVBUcEUsU0FBU0MsY0FBYyxpQkFVMUMsU0FBU1QsRUFBZ0JHLEVBQU1FLEdBQzdCa0gsRUFBZ0JDLEtBQUtySCxFQUFNRSxHQUU3QixTQUFTb0gsRUFBYUMsR0FHcEIsT0FGYSxJQUFJN0gsRUFBSzZILEVBQVUsaUJBQWtCMUgsR0FDekIySCxhQVAzQkosRUFBZ0JLLG9CQVdoQixJQUFNQyxFQUFjLElBQUl6RSxHQUFRLFNBQUNRLEdBQy9CaUUsRUFBWUMsUUFBUUwsRUFBYTdELE1BQ2hDeUQsR0FHUyxJQUFJMUIsRUFBSSxDQUNsQkMsUUF2QkssK0NBd0JMQyxRQUFTLENBQ1BrQyxjQXhCSyx1Q0F5QkwsZUFBZ0Isc0JBSWhCQyxVQUFVekIsTUFBSyxTQUFBekcsR0FDakIsSSxJQUFBLEcsRUFBQSxFLDRDQUEyQkEsSSxneEJBQXBCNkQsRUFBUCxVQUNBa0UsRUFBWUksZ0JBQWdCdEUsTUFPOUIsSUFBTXVFLEVBQW9CLElBQUl2RyxFQUFjcEMsRUFBd0IrSCxHQUNwRVksRUFBa0JDLG1CQUVsQixJQUFNQyxFQUFlLElBQUl2RCxFQUFjdUMsR0FRdkMsU0FBMEI1SCxHQUN4QnFJLEVBQVlDLFFBQVFMLEVBQWFqSSxPQVJuQzRJLEVBQWFSLG9CQVliLElBQU1TLEVBQXVCLElBQUkxRyxFQUFjcEMsRUFBd0J1SCxHQUN2RXVCLEVBQXFCRixtQkFFckIsSUFBTUcsRUFBbUIsSUFBSXpELEVBQWNnQyxHQVkzQyxTQUE2QnJILEdBQzNCK0ksRUFBU0MsWUFBWWhKLE1BWnZCOEksRUFBaUJWLG9CQUVqQixJQUFNVyxFQUFXLElBQUlqRCxFQUFTeUIsRUFBYUUsR0FlM0NMLEVBQWtCL0YsaUJBQWlCLFNBYm5DLFdBQ0V5SCxFQUFpQmQsT0FDakJhLEVBQXFCSSxhQUNyQixJQUFNL0MsRUFBVTZDLEVBQVNHLGNBQ3pCMUIsRUFBZTdCLE1BQVFPLEVBQVF2RixLQUMvQitHLEVBQWUvQixNQUFRTyxFQUFRSCxTQVNqQzRCLEVBQW1CdEcsaUJBQWlCLFNBaENwQyxXQUNFdUgsRUFBYVosT0FDYlUsRUFBa0JPLGlCIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZW5hYmxlVmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybTogJy5wb3B1cF9fZm9ybScsXG4gIGlucHV0OiAnLnBvcHVwX19pbnB1dCcsXG4gIGlucHV0SW52YWxpZENsYXNzOiAnZXJyb3JfaW52YWxpZCcsXG4gIHN1Ym1pdEJ1dHRvbjogJy5wb3B1cF9fc2F2ZScsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fc2F2ZV9pbnZhbGlkJyxcbn07XG4iLCJjbGFzcyBDYXJkIHtcblx0Y29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2spIHtcblx0XHR0aGlzLl90aXRsZSA9IGRhdGEubmFtZTtcblx0XHR0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG5cdH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JylcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZDtcbiAgfVxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7ICAvL9GB0LvRg9GI0LDRgtC10LvQuCDQtNC70Y8g0LrQsNGA0YLQvtGH0LXQulxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZS1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQoKSk7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZUxpa2VDYXJkKCkpO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2NvdmVyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soe3RpdGxlOiB0aGlzLl90aXRsZSwgbGluazogdGhpcy5fbGlua30pKTtcbiAgfVxuXG4gIHJlbmRlckNhcmQoKSB7ICAvL9C+0YLRgNC40YHQvtCy0LrQsCDQutCw0YDRgtC+0YfQtdC6XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG5cbiAgICBjb25zdCBjYXJkQ292ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19jb3ZlcicpO1xuICAgIGNvbnN0IGNhcmRUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RpdGxlJyk7XG5cbiAgICBjYXJkQ292ZXIuc3JjID0gdGhpcy5fbGluaztcbiAgICBjYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcbiAgICBjYXJkQ292ZXIuYWx0ID0gdGhpcy5fdGl0bGU7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICBfaGFuZGxlRGVsZXRlQ2FyZCgpIHsvL9GD0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LXQulxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBfaGFuZGxlTGlrZUNhcmQoKSB7Ly/Qm9Cw0LnQuiDQutCw0YDRgtC+0YfQtdC6XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1idXR0b24nKS5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgfVxufVxuZXhwb3J0IHtDYXJkfVxuXG5cbiIsImNsYXNzIEZvcm1WYWxpZGF0b3IgeyAgLy/QmtC70LDRgdGBINC00LvRjyDRhNC+0YDQvCDQstCw0LvQuNC00LDRhtC40LhcbiAgY29uc3RydWN0b3IoZGF0YSwgZm9ybSkge1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICAgIHRoaXMuX2Zvcm1JbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChkYXRhLmlucHV0KSk7XG5cbiAgICB0aGlzLl9pbnB1dCA9IGRhdGEuaW5wdXQ7XG4gICAgdGhpcy5faW5wdXRJbnZhbGlkQ2xhc3MgPSBkYXRhLmlucHV0SW52YWxpZENsYXNzO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihkYXRhLnN1Ym1pdEJ1dHRvbik7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGRhdGEuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgfVxuXG4gIC8v0KPRgdGC0LDQvdC+0LLQutCwINGB0L7RgdGC0L7Rj9C90LjRjyDQutC90L7Qv9C60LhcbiAgc2V0U3VibWl0QnV0dG9uU3RhdGUoKSB7XG4gICAgY29uc3QgaXNWYWxpZCA9IHRoaXMuX2Zvcm0uY2hlY2tWYWxpZGl0eSgpO1xuXG4gICAgaWYoaXNWYWxpZCkge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgfVxuICB9XG5cbi8v0J7QsdGA0LDQsdC+0YLRh9C40Log0L/QvtC70LXQuSDQstCy0L7QtNCwXG4gIC8vIF9oYW5kbGVGb3JtSW5wdXQoKSB7XG4gIC8vICAgLy8g0JzQtdC90Y/QtdC8INGB0L7RgdGC0L7Rj9C90LjQtSDQutC90L7Qv9C60Lgg0L7RgtC/0YDQsNCy0LrQuCDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0LLQsNC70LjQtNC90L7RgdGC0Lgg0YTQvtGA0LzRi1xuICAvLyAgIHRoaXMuc2V0U3VibWl0QnV0dG9uU3RhdGUoKTtcbiAgLy8gfVxuXG4gIF9pc1ZhbGlkID0gKGZvcm1JbnB1dCkgPT4geyAgLy/Qv9GA0L7QstC10YDQutCwINCy0LDQu9C40LTQvdC+0YHRgtC4INGE0L7RgNC80Ysg0Lgg0YPRgdGC0LDQvdC+0LLQutCwINGB0L7QvtCx0YnQtdC90LjRjyDQvtCxINC+0YjQuNCx0LrQtVxuICAgIGNvbnN0IHNwYW4gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2Zvcm1JbnB1dC5uYW1lfS1lcnJvcmApO1xuXG4gICAgaWYgKCFmb3JtSW5wdXQudmFsaWRpdHkudmFsaWQgfHwgZm9ybUlucHV0LnZhbGlkaXR5LnR5cGVNaXNtYXRjaCkge1xuICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IGZvcm1JbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEludmFsaWRDbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBmb3JtSW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgICBzcGFuLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRJbnZhbGlkQ2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHsgIC8v0YHQu9GD0YjQsNGC0LXQu9C4INC00LvRjyDQv9C+0LvQtdC5INCy0LLQvtC00LBcbiAgICB0aGlzLl9mb3JtSW5wdXRzLmZvckVhY2goKGZvcm1JbnB1dCkgPT4ge1xuICAgICAgZm9ybUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9pc1ZhbGlkKGZvcm1JbnB1dCk7XG4gICAgICAgIHRoaXMuc2V0U3VibWl0QnV0dG9uU3RhdGUoKTtcbiAgICAgICAgLy8gdGhpcy5faGFuZGxlRm9ybUlucHV0KClcbiAgICAgIH0pO1xuICAgIH0pXG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB9KVxuICB9XG4gIHJlc2V0RXJyb3IoKSB7XG4gICAgdGhpcy5fZm9ybUlucHV0cy5mb3JFYWNoKChmb3JtSW5wdXQpID0+IHtcbiAgICAgIGNvbnN0IHNwYW4gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2Zvcm1JbnB1dC5uYW1lfS1lcnJvcmApO1xuICAgICAgc3Bhbi50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgc3Bhbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0SW52YWxpZENsYXNzKTtcbiAgICAgIH0pO1xuICAgIHRoaXMuc2V0U3VibWl0QnV0dG9uU3RhdGUoKTtcbiAgICB9XG59O1xuXG5cbmV4cG9ydCB7Rm9ybVZhbGlkYXRvcn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb257XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBjYXJkQ29udGFpbmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjYXJkQ29udGFpbmVyO1xuICB9XG4gIGFkZENhcmQoY2FyZCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmQpO1xuICB9XG4gIGFkZEluaXRpYWxDYXJkcyhjYXJkcykge1xuICAgIGNhcmRzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSlcbiAgICB9KTtcbiAgfVxuIH1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXApIHtcbiAgICB0aGlzLl9wb3B1cCA9IHBvcHVwO1xuICAgIHRoaXMuX2Nsb3NlRXNjUG9wdXAgPSB0aGlzLl9jbG9zZUVzY1BvcHVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY2xvc2VPdmVybGF5Q2xpY2sgPSB0aGlzLl9jbG9zZU92ZXJsYXlDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3BvcHVwQnV0dG9uQ2xvc2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJyk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2Nsb3NlRXNjUG9wdXApO1xuXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fY2xvc2VPdmVybGF5Q2xpY2spO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xvc2VFc2NQb3B1cCk7XG4gICAgdGhpcy5fcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fY2xvc2VPdmVybGF5Q2xpY2spO1xuICB9XG5cbiAgX2hhbmRsZUNsb3NlQnV0dG9uKGV2dCkge1xuICAgIGlmKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9jbG9zZUVzY1BvcHVwKGV2dCkgeyAvL9CX0LDQutGA0YvRgtC40LUgcG9wdXAg0L/RgNC4INC90LDQttCw0YLQuNC4IEVzY1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9jbG9zZU92ZXJsYXlDbGljayhldnQpIHsgLy/Ql9Cw0LrRgNGL0YLQuNC1IHBvcHVwINC/0YDQuCDQutC70LjQutC1INC90LAg0L7QstC10YDQu9C10LlcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwQnV0dG9uQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB0aGlzLl9oYW5kbGVDbG9zZUJ1dHRvbihldnQpKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xuICAgIHN1cGVyKHBvcHVwKTtcbiAgICB0aGlzLl9saW5rID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xuICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJ0aXRsZScpO1xuICB9XG5cbiAgb3BlbihkYXRhKSB7XG4gICAgdGhpcy5fbGluay5zcmMgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fbGluay5hbHQgPSBkYXRhLnRpdGxlO1xuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gZGF0YS50aXRsZTtcbiAgICBzdXBlci5vcGVuKClcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwLCBmb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXApO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuX2Zvcm1TdWJtaXQgPSBmb3JtU3VibWl0O1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0cyA9IEFycmF5LmZyb20odGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKSk7XG4gICAgdGhpcy5faW5wdXRWYWx1ZXMgPSB7fVxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gdGhpcy5faW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2Zvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XG4gICAgLy8gdGhpcy5fcG9wdXBGb3JtLnRleHRDb250ZW50ID0gJydcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBhYm91dCkge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2Fib3V0ID0gYWJvdXQ7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyhwcm9maWxlKSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IHByb2ZpbGUubmFtZTtcbiAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IHByb2ZpbGUuYWJvdXQ7XG5cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIF9oYW5kbGVSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldFByb2ZpbGUoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9dXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cbiAgZ2V0RGF0YSgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0SW5pdGlhbENhcmRzKCksIHRoaXMuZ2V0UHJvZmlsZSgpXSlcbiAgfVxufVxuIiwiXG5cbmltcG9ydCAnLi9pbmRleC5jc3MnO1xuaW1wb3J0IHtlbmFibGVWYWxpZGF0aW9uQ29uZmlnfSBmcm9tICcuLi91dGlscy92YWxpZGF0aW9uQ29uZmlnLmpzJztcbmltcG9ydHtpbml0aWFsQ2FyZHN9IGZyb20gJy4uL3V0aWxzL2luaXRpYWwtY2FyZHMuanMnO1xuaW1wb3J0e0NhcmR9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnR7Rm9ybVZhbGlkYXRvcn0gZnJvbSAnLi4vY29tcG9uZW50cy92YWxpZGF0ZS5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaSc7XG5cbmNvbnN0IGJ1dHRvbkVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XG5jb25zdCBwb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZS1wb3B1cCcpO1xuY29uc3QgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlJyk7XG5jb25zdCBmb3JtRWxlbWVudCA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKVxuY29uc3QgcHJvZmlsZU5hbWUgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19uYW1lJyk7XG5jb25zdCBpbnB1dEZpZWxkTmFtZSA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2ZpZWxkX25hbWUnKTtcbmNvbnN0IHByb2ZpbGVBYm91dCA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJyk7XG5jb25zdCBpbnB1dEZpZWxkRGVzYyA9IHBvcHVwUHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X2ZpZWxkX2Rlc2NyaXB0aW9uJyk7XG5jb25zdCBidXR0b25BZGRDYXJkUG9wdXAgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtY2FyZCcpO1xuY29uc3QgcG9wdXBDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmQtcG9wdXAnKTtcbmNvbnN0IGNhcmRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50cycpO1xuY29uc3QgY2FyZEVsZW1lbnQgPSBwb3B1cENhcmQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG5jb25zdCBwb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmltYWdlLXBvcHVwJyk7XG5jb25zdCBhcGlJbmZvID0ge1xuICB1cmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTI3LycsXG4gIHRva2VuOiAnMjZjOGQxNjgtNWUyZi00MzIxLWI0MjAtMDVkY2I0MWU5OTY1J1xufVxuXG4vL9Cf0YDQtdC00LfQsNCz0YDRg9C20LXQvdC90YvQtSDQutCw0YDRgtC+0YfQutC4XG5jb25zdCBoYW5kbGVPcGVuSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBJbWFnZSk7XG5oYW5kbGVPcGVuSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKG5hbWUsIGxpbmspIHsgLy/QntGC0LrRgNGL0YLQuNC1INGD0LLQtdC70LjRh9C10L3QvdC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxuICBoYW5kbGVPcGVuSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcbn07XG5mdW5jdGlvbiBjYXJkUmVuZGVyZXIoY2FyZEl0ZW0pIHsgLy/QvtGC0YDQuNGB0L7QstC60LAg0LrQsNGA0YLQvtGH0LrQuFxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoY2FyZEl0ZW0sICcuY2FyZC10ZW1wbGF0ZScsIGhhbmRsZUNhcmRDbGljayk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5yZW5kZXJDYXJkKCk7XG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn1cblxuY29uc3QgcmVuZGVyQ2FyZHMgPSBuZXcgU2VjdGlvbigoaXRlbSkgPT4ge1xuICByZW5kZXJDYXJkcy5hZGRDYXJkKGNhcmRSZW5kZXJlcihpdGVtKSlcbn0sIGNhcmRFbGVtZW50cyk7XG5cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IGFwaUluZm8udXJsLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogYXBpSW5mby50b2tlbixcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH1cbn0pO1xuXG5hcGkuZ2V0RGF0YSgpLnRoZW4oZGF0YSA9PiB7XG4gIGNvbnN0IFtjYXJkcywgdXNlckluZm8gXSA9IGRhdGE7XG4gIHJlbmRlckNhcmRzLmFkZEluaXRpYWxDYXJkcyhjYXJkcyk7XG5cbn0pXG5cblxuLy/Qn9Ce0J8t0JDQn9CrOlxuLy8g0J3QvtCy0LDRjyDQutCw0YDRgtC+0YfQutCwXG5jb25zdCBmb3JtVmFsaWRhdG9yQ2FyZCA9IG5ldyBGb3JtVmFsaWRhdG9yKGVuYWJsZVZhbGlkYXRpb25Db25maWcsIGNhcmRFbGVtZW50KTtcbmZvcm1WYWxpZGF0b3JDYXJkLmVuYWJsZVZhbGlkYXRpb24oKTsvLyDQstCw0LvQuNC00LDRhtC40Y8g0L/QvtC/LdCw0L/QsCDQutCw0YDRgtC+0YfQutC4XG5cbmNvbnN0IHBvcHVwQWRkQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwQ2FyZCwgaGFuZGxlU3VibWl0Q2FyZCk7XG5wb3B1cEFkZENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gb3BlbkFkZENhcmRQb3B1cCgpIHtcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKTtcbiAgZm9ybVZhbGlkYXRvckNhcmQucmVzZXRFcnJvcigpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdWJtaXRDYXJkKGZvcm0pIHtcbiAgcmVuZGVyQ2FyZHMuYWRkQ2FyZChjYXJkUmVuZGVyZXIoZm9ybSkpO1xufVxuXG4vL9Cf0YDQvtGE0LjQu9GMXG5jb25zdCBmb3JtVmFsaWRhdG9yUHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKGVuYWJsZVZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50KTtcbmZvcm1WYWxpZGF0b3JQcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTsvL9Cy0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvNGLINC/0YDQvtGE0LjQu9GPXG5cbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cFByb2ZpbGUsIGhhbmRsZVN1Ym1pdFByb2ZpbGUpO1xucG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhwcm9maWxlTmFtZSwgcHJvZmlsZUFib3V0KTtcblxuZnVuY3Rpb24gaGFuZGxlVXNlclByb2ZpbGUoKSB7IC8v0L7RgtC60YDRi9GC0LjQtSDQv9C+0L8t0LDQv9CwINC/0YDQvtGE0LjQu9GPINGBINC/0LXRgNC10L3QvtGB0L7QvCDQsiDQuNC90L/Rg9GC0YtcbiAgcG9wdXBFZGl0UHJvZmlsZS5vcGVuKCk7XG4gIGZvcm1WYWxpZGF0b3JQcm9maWxlLnJlc2V0RXJyb3IoKTtcbiAgY29uc3QgcHJvZmlsZSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIGlucHV0RmllbGROYW1lLnZhbHVlID0gcHJvZmlsZS5uYW1lO1xuICBpbnB1dEZpZWxkRGVzYy52YWx1ZSA9IHByb2ZpbGUuYWJvdXQ7XG59XG5mdW5jdGlvbiBoYW5kbGVTdWJtaXRQcm9maWxlKGZvcm0pIHsgLy8g0YHQsNCx0LzQuNGCINC/0L7Qvy3QsNC/0LAg0L/RgNC+0YTQuNC70Y9cbiAgdXNlckluZm8uc2V0VXNlckluZm8oZm9ybSk7XG59XG5cblxuLy/QodC70YPRiNCw0YLQtdC70Lgg0LrQvdC+0L/QvtC6INC/0L7Qvy3QsNC/0L7QslxuYnV0dG9uRWRpdFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVVc2VyUHJvZmlsZSk7XG5idXR0b25BZGRDYXJkUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkQ2FyZFBvcHVwKTtcblxuLy8gZmV0Y2goJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMjcvY2FyZHMnLCB7XG4vLyAgIGhlYWRlcnM6IHtcbi8vICAgICBhdXRob3JpemF0aW9uOiAnMjZjOGQxNjgtNWUyZi00MzIxLWI0MjAtMDVkY2I0MWU5OTY1J1xuLy8gICB9XG4vLyB9KVxuLy8gICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbi8vICAgLnRoZW4oKGNhcmRzKSA9PiB7XG4vLyAgICAgcmV0dXJuIGNhcmRzO1xuLy8gICB9KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=