(()=>{"use strict";var t={form:".popup__form",input:".popup__input",inputInvalidClass:"error_invalid",submitButton:".popup__save",inactiveButtonClass:"popup__save_invalid"};function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function t(e,n,r,o,i,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=e,this._title=e.name,this._link=e.link,this._likes=e.likes,this._likeQuantity=e.likes.length,this._id=e._id,this._ownerId=e.owner._id,this._selfId=o,this._cardSelector=n,this._handleCardClick=r,this._handleDeleteButton=i,this._popupDeleteConfirmation=u}var n,r;return n=t,(r=[{key:"cardId",value:function(){return this._id}},{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var t=this;this._element.querySelector(".element__delete-button").addEventListener("click",(function(){return t._handleDeleteConfirmation()})),this._element.querySelector(".element__like-button").addEventListener("click",(function(){return t._handleLikeCard()})),this._element.querySelector(".element__cover").addEventListener("click",(function(){return t._handleCardClick({title:t._title,link:t._link})}))}},{key:"renderCard",value:function(){this._element=this._getTemplate();var t=this._element.querySelector(".element__cover"),e=this._element.querySelector(".element__title"),n=this._element.querySelector(".element__like-button_quantity"),r=this._element.querySelector(".element__delete-button");return t.src=this._link,e.textContent=this._title,t.alt=this._title,this._ownerId!==this._selfId&&(r.style.display="none"),this._likes&&(n.textContent=this._likeQuantity),this._setEventListeners(),this._element}},{key:"setLikes",value:function(){cardLikes.textContent=this._likeQuantity}},{key:"_handleDeleteConfirmation",value:function(){var t=this;this._popupDeleteConfirmation.setNewHandler((function(){return t._handleDeleteCard()})),this._popupDeleteConfirmation.open()}},{key:"_handleDeleteCard",value:function(){this._handleDeleteButton(this._id,this._element)}},{key:"_handleLikeCard",value:function(){this._element.querySelector(".element__like-button").classList.toggle("element__like-button_active"),console.log(this._selfId)}}])&&e(n.prototype,r),t}();function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,"_isValid",(function(t){var e=r._form.querySelector("#".concat(t.name,"-error"));!t.validity.valid||t.validity.typeMismatch?(e.textContent=t.validationMessage,e.classList.add(r._inputInvalidClass)):(e.textContent=t.validationMessage,e.classList.remove(r._inputInvalidClass))})),o(this,"_setEventListeners",(function(){r._formInputs.forEach((function(t){t.addEventListener("input",(function(){r._isValid(t),r.setSubmitButtonState()}))}))})),o(this,"enableValidation",(function(){r._setEventListeners(),r._form.addEventListener("submit",(function(t){t.preventDefault()}))})),this._form=n,this._formInputs=Array.from(this._form.querySelectorAll(e.input)),this._input=e.input,this._inputInvalidClass=e.inputInvalidClass,this._submitButton=this._form.querySelector(e.submitButton),this._inactiveButtonClass=e.inactiveButtonClass}var e,n;return e=t,(n=[{key:"setSubmitButtonState",value:function(){this._form.checkValidity()?(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.removeAttribute("disabled")):(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.setAttribute("disabled","disabled"))}},{key:"resetError",value:function(){var t=this;this._formInputs.forEach((function(e){var n=t._form.querySelector("#".concat(e.name,"-error"));n.textContent="",n.classList.remove(t._inputInvalidClass)})),this.setSubmitButtonState()}}])&&r(e.prototype,n),t}();function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=e,this._container=n}var e,n;return e=t,(n=[{key:"addCard",value:function(t){this._container.append(t)}},{key:"addCustomCard",value:function(t){this._container.prepend(t)}},{key:"addInitialCards",value:function(t){var e=this;t.forEach((function(t){e._renderer(t)}))}}])&&u(e.prototype,n),t}();function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=e,this._closeEscPopup=this._closeEscPopup.bind(this),this._closeOverlayClick=this._closeOverlayClick.bind(this),this._popupButtonClose=this._popup.querySelector(".popup__close"),this._submitButton&&(this._defaultButtonText=this._submitButton.textContent)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._closeEscPopup),this._popup.addEventListener("mousedown",this._closeOverlayClick)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._closeEscPopup),this._popup.removeEventListener("mousedown",this._closeOverlayClick)}},{key:"_handleCloseButton",value:function(t){(t.target.classList.contains("popup")||t.target.classList.contains("popup__close"))&&this.close()}},{key:"_closeEscPopup",value:function(t){"Escape"===t.key&&this.close()}},{key:"_closeOverlayClick",value:function(t){t.target===t.currentTarget&&this.close()}},{key:"resetButtonState",value:function(){this._submitButton&&(this._submitButton.textContent=this._defaultButtonText)}},{key:"setEventListeners",value:function(){var t=this;this._popupButtonClose.addEventListener("click",(function(e){return t._handleCloseButton(e)}))}}])&&s(e.prototype,n),t}();function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(o){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._link=e._popup.querySelector(".popup__image"),e._title=e._popup.querySelector(".popup__subtitle"),e}return e=u,(n=[{key:"open",value:function(t){this._link.src=t.link,this._link.alt=t.title,this._title.textContent=t.title,p(d(u.prototype),"open",this).call(this)}}])&&f(e.prototype,n),u}(c);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(r);if(o){var n=S(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return g(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._popupForm=n._popup.querySelector(".popup__form"),n._formSubmit=e,n}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._inputs=Array.from(this._popupForm.querySelectorAll(".popup__input")),this._inputValues={},this._inputs.forEach((function(e){return t._inputValues[e.name]=e.value})),this._inputValues}},{key:"setEventListeners",value:function(){var t=this;b(S(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._formSubmit(t._getInputValues()),t.close()}))}},{key:"close",value:function(){b(S(u.prototype),"close",this).call(this),this._popupForm.reset()}}])&&m(e.prototype,n),u}(c);function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var O=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e,this._about=n,this._avatar=r,this._id=o}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatar,id:this._id}}},{key:"setUserInfo",value:function(t){this._name.textContent=t.name,this._about.textContent=t.about,this._avatar.src=t.avatar,this._id=t._id}}])&&w(e.prototype,n),t}();function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var P=function(){function t(e){var n=e.baseUrl,r=e.headers;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._headers=r}var e,n;return e=t,(n=[{key:"_handleResponse",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getProfile",value:function(){var t=this;return fetch("".concat(this._baseUrl,"users/me"),{headers:this._headers}).then((function(e){return t._handleResponse(e)}))}},{key:"setAvatar",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"cards"),{method:"PATCH",headers:this._headers,body:JSON.stringify(t)}).then((function(t){return e._handleResponse(t)}))}},{key:"updateProfile",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.about})}).then((function(t){return e._handleResponse(t)}))}},{key:"getInitialCards",value:function(){var t=this;return fetch("".concat(this._baseUrl,"cards"),{headers:this._headers}).then((function(e){return t._handleResponse(e)}))}},{key:"addCard",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link})}).then((function(t){return e._handleResponse(t)}))}},{key:"getData",value:function(){return Promise.all([this.getProfile(),this.getInitialCards()])}},{key:"addLike",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"cards/likes/").concat(t),{method:"PUT",headers:this._headers}).then((function(t){return e._handleResponse(t)}))}},{key:"deleteCard",value:function(t){var e=this;return fetch("".concat(this._baseUrl,"cards/").concat(t),{method:"DELETE",headers:this._headers}).then((function(t){return e._handleResponse(t)}))}}])&&E(e.prototype,n),t}();function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e,n){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t,e){return!e||"object"!==L(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=I(r);if(o){var n=I(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return R(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._form=e._popup.querySelector(".popup__form"),e._formSubmit=e._popup.querySelector(".popup__save"),e._submit=null,e}return e=u,(n=[{key:"setNewHandler",value:function(t){this._submit=t}},{key:"setEventListeners",value:function(){var t=this;q(I(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),console.log(t._form),t._formSubmit.textContent="Удаление...",t._submit()}))}}])&&j(e.prototype,n),u}(c),x=document.querySelector(".profile__edit-button"),D=document.querySelector(".profile-popup"),U=document.querySelector(".profile"),A=D.querySelector(".popup__form"),V=U.querySelector(".profile__name"),N=D.querySelector(".popup__input_field_name"),F=U.querySelector(".profile__description"),H=D.querySelector(".popup__input_field_description"),M=U.querySelector(".profile__add-card"),J=U.querySelector(".profile__avatar"),Q=document.querySelector(".card-popup"),z=document.querySelector(".elements"),$=Q.querySelector(".popup__form"),G=document.querySelector(".image-popup"),K=document.querySelector(".delete-popup");function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var X=new i(t,A);X.enableValidation();var Y=new C(D,(function(t){st.updateProfile(t),Z.setUserInfo(t)}));Y.setEventListeners();var Z=new O(V,F,J,null),tt=new y(G);function et(t,e){tt.open(t,e)}function nt(t){return new n(t,".card-template",et,Z.getUserInfo().id,it,ot).renderCard()}tt.setEventListeners();var rt=new a((function(t){rt.addCard(nt(t))}),z),ot=new T(K,it);function it(t,e){st.deleteCard(t).then((function(t){e.remove(),ot.close()})).catch((function(t){console.log(t.toString())})).finally((function(){return ot.resetButtonState()}))}ot.setEventListeners();var ut=new i(t,$);ut.enableValidation();var at=new C(Q,(function(t){st.addCard(t).then((function(t){rt.addCustomCard(nt(t))})).catch((function(t){return console.log("Ошибка, рвать её мать!"+t.toString())}))}));at.setEventListeners();var st=new P({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-27/",headers:{authorization:"26c8d168-5e2f-4321-b420-05dcb41e9965","Content-Type":"application/json"}});st.getData().then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Z.setUserInfo(o),rt.addInitialCards(i)})).then().catch((function(t){return console.log("Ошибка, рвать её мать!"+t.toString())})),x.addEventListener("click",(function(){Y.open(),X.resetError();var t=Z.getUserInfo();N.value=t.name,H.value=t.about})),M.addEventListener("click",(function(){at.open(),ut.resetError()})),fetch("https://mesto.nomoreparties.co/v1/cohort-27/cards",{headers:{authorization:"26c8d168-5e2f-4321-b420-05dcb41e9965"}}).then((function(t){return t.json()})).then((function(t){console.log(t)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy92YWxpZGF0aW9uQ29uZmlnLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL3ZhbGlkYXRlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cERlbGV0ZUNvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy92YXJpYWJsZXMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwibmFtZXMiOlsiZW5hYmxlVmFsaWRhdGlvbkNvbmZpZyIsImZvcm0iLCJpbnB1dCIsImlucHV0SW52YWxpZENsYXNzIiwic3VibWl0QnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIkNhcmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwic2VsZklkIiwiaGFuZGxlRGVsZXRlQnV0dG9uIiwicG9wdXBEZWxldGVDb25maXJtYXRpb24iLCJ0aGlzIiwiX2RhdGEiLCJfdGl0bGUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfbGlrZVF1YW50aXR5IiwibGVuZ3RoIiwiX2lkIiwiX293bmVySWQiLCJvd25lciIsIl9zZWxmSWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVEZWxldGVCdXR0b24iLCJfcG9wdXBEZWxldGVDb25maXJtYXRpb24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZURlbGV0ZUNvbmZpcm1hdGlvbiIsIl9oYW5kbGVMaWtlQ2FyZCIsInRpdGxlIiwiX2dldFRlbXBsYXRlIiwiY2FyZENvdmVyIiwiY2FyZFRpdGxlIiwiY2FyZExpa2VzIiwiY2FyZERlbGV0ZUJ1dHRvbiIsInNyYyIsInRleHRDb250ZW50IiwiYWx0Iiwic3R5bGUiLCJkaXNwbGF5IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwic2V0TmV3SGFuZGxlciIsIl9oYW5kbGVEZWxldGVDYXJkIiwib3BlbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNvbnNvbGUiLCJsb2ciLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUlucHV0Iiwic3BhbiIsIl9mb3JtIiwidmFsaWRpdHkiLCJ2YWxpZCIsInR5cGVNaXNtYXRjaCIsInZhbGlkYXRpb25NZXNzYWdlIiwiYWRkIiwiX2lucHV0SW52YWxpZENsYXNzIiwicmVtb3ZlIiwiX2Zvcm1JbnB1dHMiLCJmb3JFYWNoIiwiX2lzVmFsaWQiLCJzZXRTdWJtaXRCdXR0b25TdGF0ZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2lucHV0IiwiX3N1Ym1pdEJ1dHRvbiIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiY2hlY2tWYWxpZGl0eSIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIlNlY3Rpb24iLCJyZW5kZXJlciIsImNhcmRDb250YWluZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiY2FyZCIsImFwcGVuZCIsInByZXBlbmQiLCJjYXJkcyIsIml0ZW0iLCJQb3B1cCIsInBvcHVwIiwiX3BvcHVwIiwiX2Nsb3NlRXNjUG9wdXAiLCJiaW5kIiwiX2Nsb3NlT3ZlcmxheUNsaWNrIiwiX3BvcHVwQnV0dG9uQ2xvc2UiLCJfZGVmYXVsdEJ1dHRvblRleHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJjbG9zZSIsImtleSIsImN1cnJlbnRUYXJnZXQiLCJfaGFuZGxlQ2xvc2VCdXR0b24iLCJQb3B1cFdpdGhJbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJmb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9mb3JtU3VibWl0IiwiX2lucHV0cyIsIl9pbnB1dFZhbHVlcyIsInZhbHVlIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJVc2VySW5mbyIsImFib3V0IiwiYXZhdGFyIiwiaWQiLCJfbmFtZSIsIl9hYm91dCIsIl9hdmF0YXIiLCJwcm9maWxlIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwiX2hhbmRsZVJlc3BvbnNlIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhbGwiLCJnZXRQcm9maWxlIiwiZ2V0SW5pdGlhbENhcmRzIiwiUG9wdXBEZWxldGVDb25maXJtYXRpb24iLCJfc3VibWl0Iiwic3VibWl0IiwiYnV0dG9uRWRpdFByb2ZpbGUiLCJwb3B1cFByb2ZpbGUiLCJmb3JtRWxlbWVudCIsInByb2ZpbGVOYW1lIiwiaW5wdXRGaWVsZE5hbWUiLCJwcm9maWxlQWJvdXQiLCJpbnB1dEZpZWxkRGVzYyIsImJ1dHRvbkFkZENhcmRQb3B1cCIsInByb2ZpbGVBdmF0YXIiLCJwb3B1cENhcmQiLCJjYXJkRWxlbWVudHMiLCJjYXJkRWxlbWVudCIsInBvcHVwSW1hZ2UiLCJwb3B1cERlbGV0ZSIsImZvcm1WYWxpZGF0b3JQcm9maWxlIiwiZW5hYmxlVmFsaWRhdGlvbiIsInBvcHVwRWRpdFByb2ZpbGUiLCJhcGkiLCJ1cGRhdGVQcm9maWxlIiwidXNlclByb2ZpbGUiLCJzZXRVc2VySW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwiaGFuZGxlT3BlbkltYWdlIiwiY2FyZFJlbmRlcmVyIiwiY2FyZEl0ZW0iLCJnZXRVc2VySW5mbyIsInJlbmRlckNhcmQiLCJyZW5kZXJDYXJkcyIsImFkZENhcmQiLCJjYXJkSWQiLCJkZWxldGVDYXJkIiwiY2F0Y2giLCJlcnIiLCJ0b1N0cmluZyIsImZpbmFsbHkiLCJyZXNldEJ1dHRvblN0YXRlIiwiZm9ybVZhbGlkYXRvckNhcmQiLCJwb3B1cEFkZENhcmQiLCJhZGRDdXN0b21DYXJkIiwiYXV0aG9yaXphdGlvbiIsImdldERhdGEiLCJ1c2VySW5mbyIsImFkZEluaXRpYWxDYXJkcyIsInJlc2V0RXJyb3IiXSwibWFwcGluZ3MiOiJtQkFBTyxJQUFNQSxFQUF5QixDQUNwQ0MsS0FBTSxlQUNOQyxNQUFPLGdCQUNQQyxrQkFBbUIsZ0JBQ25CQyxhQUFjLGVBQ2RDLG9CQUFxQix1QiwwS0NMakJDLEUsV0FDTCxXQUFZQyxFQUFNQyxFQUFjQyxFQUFpQkMsRUFBUUMsRUFBb0JDLEksNEZBQXlCLFNBQ25HQyxLQUFLQyxNQUFRUCxFQUNmTSxLQUFLRSxPQUFTUixFQUFLUyxLQUNuQkgsS0FBS0ksTUFBUVYsRUFBS1csS0FDaEJMLEtBQUtNLE9BQVNaLEVBQUthLE1BQ25CUCxLQUFLUSxjQUFnQmQsRUFBS2EsTUFBTUUsT0FDaENULEtBQUtVLElBQU1oQixFQUFLZ0IsSUFDaEJWLEtBQUtXLFNBQVdqQixFQUFLa0IsTUFBTUYsSUFFM0JWLEtBQUthLFFBQVVoQixFQUVmRyxLQUFLYyxjQUFnQm5CLEVBQ3JCSyxLQUFLZSxpQkFBbUJuQixFQUV4QkksS0FBS2dCLG9CQUFzQmxCLEVBQzNCRSxLQUFLaUIseUJBQTJCbEIsRSwyQ0FHbEMsV0FDRSxPQUFPQyxLQUFLVSxNLDBCQUdkLFdB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RCxjRC9HSyx1Q0NnSEwsZUFBZ0Isc0JBWXBCdEIsR0FBSXVCLFVBQVVyRCxNQUFLLFNBQUFySSxHQUNqQixJLElBQUEsRyxFQUFBLEUsNENBQTZCQSxJLGd4QkFBckIyTCxFQUFSLEtBQWtCdEcsRUFBbEIsS0FDQWdGLEVBQVlDLFlBQVlxQixHQUN4QmQsR0FBWWUsZ0JBQWdCdkcsTUFHM0JnRCxPQUVGNEMsT0FBTSxTQUFDQyxHQUFELE9BQVNqSSxRQUFRQyxJQUFJLHlCQUEyQmdJLEVBQUlDLGVBa0IzRGpDLEVBQWtCckgsaUJBQWlCLFNBcEhuQyxXQUNFcUksRUFBaUJwSCxPQUNqQmtILEVBQXFCNkIsYUFDckIsSUFBTXJFLEVBQVU2QyxFQUFZTSxjQUM1QnJCLFFBQXVCOUIsRUFBUS9HLEtBQy9CK0ksUUFBdUJoQyxFQUFRTixTQWdIakN1QyxFQUFtQjVILGlCQUFpQixTQXhEcEMsV0FDRTBKLEdBQWF6SSxPQUNid0ksR0FBa0JPLGdCQTJEcEJ6RCxNQUFNLG9EQUFxRCxDQUN6RFQsUUFBUyxDQUNQOEQsY0FBZSwwQ0FHaEJwRCxNQUFLLFNBQUFQLEdBQUcsT0FBSUEsRUFBSUUsVUFDaEJLLE1BQUssU0FBQ2hELEdBQ0xwQyxRQUFRQyxJQUFJbUMsTyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGVuYWJsZVZhbGlkYXRpb25Db25maWcgPSB7XG4gIGZvcm06ICcucG9wdXBfX2Zvcm0nLFxuICBpbnB1dDogJy5wb3B1cF9faW5wdXQnLFxuICBpbnB1dEludmFsaWRDbGFzczogJ2Vycm9yX2ludmFsaWQnLFxuICBzdWJtaXRCdXR0b246ICcucG9wdXBfX3NhdmUnLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3NhdmVfaW52YWxpZCcsXG59O1xuIiwiY2xhc3MgQ2FyZCB7XG5cdGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCBzZWxmSWQsIGhhbmRsZURlbGV0ZUJ1dHRvbiwgcG9wdXBEZWxldGVDb25maXJtYXRpb24pIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcblx0XHR0aGlzLl90aXRsZSA9IGRhdGEubmFtZTtcblx0XHR0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9saWtlUXVhbnRpdHkgPSBkYXRhLmxpa2VzLmxlbmd0aDtcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcblxuICAgIHRoaXMuX3NlbGZJZCA9IHNlbGZJZDtcblxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG5cbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24gPSBoYW5kbGVEZWxldGVCdXR0b247XG4gICAgdGhpcy5fcG9wdXBEZWxldGVDb25maXJtYXRpb24gPSBwb3B1cERlbGV0ZUNvbmZpcm1hdGlvblxuXHR9XG5cbiAgY2FyZElkKCkge1xuICAgIHJldHVybiB0aGlzLl9pZFxuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmQ7XG4gIH1cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkgeyAgLy/RgdC70YPRiNCw0YLQtdC70Lgg0LTQu9GPINC60LDRgNGC0L7Rh9C10LpcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZWxldGUtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGVDb25maXJtYXRpb24oKSk7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZUxpa2VDYXJkKCkpO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2NvdmVyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soe3RpdGxlOiB0aGlzLl90aXRsZSwgbGluazogdGhpcy5fbGlua30pKTtcbiAgfVxuXG4gIHJlbmRlckNhcmQoKSB7ICAvL9C+0YLRgNC40YHQvtCy0LrQsCDQutCw0YDRgtC+0YfQtdC6XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG5cbiAgICBjb25zdCBjYXJkQ292ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19jb3ZlcicpO1xuICAgIGNvbnN0IGNhcmRUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RpdGxlJyk7XG4gICAgY29uc3QgY2FyZExpa2VzID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1idXR0b25fcXVhbnRpdHknKTtcbiAgICBjb25zdCBjYXJkRGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlLWJ1dHRvbicpO1xuXG4gICAgY2FyZENvdmVyLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fdGl0bGU7XG4gICAgY2FyZENvdmVyLmFsdCA9IHRoaXMuX3RpdGxlO1xuXG4gICAgaWYgKHRoaXMuX293bmVySWQgIT09IHRoaXMuX3NlbGZJZCkge1xuICAgICAgY2FyZERlbGV0ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuXG4gICAgaWYodGhpcy5fbGlrZXMpe1xuICAgIGNhcmRMaWtlcy50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VRdWFudGl0eVxuICB9XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIHNldExpa2VzKCkge1xuICAgIGNhcmRMaWtlcy50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VRdWFudGl0eTtcbiAgfVxuXG4gIF9oYW5kbGVEZWxldGVDb25maXJtYXRpb24oKSB7XG4gICAgdGhpcy5fcG9wdXBEZWxldGVDb25maXJtYXRpb24uc2V0TmV3SGFuZGxlcigoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKCkpO1xuICAgIHRoaXMuX3BvcHVwRGVsZXRlQ29uZmlybWF0aW9uLm9wZW4oKVxuICB9XG5cbiAgX2hhbmRsZURlbGV0ZUNhcmQoKSB7Ly/Rg9C00LDQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C10LpcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVCdXR0b24odGhpcy5faWQsIHRoaXMuX2VsZW1lbnQpO1xuICB9XG5cbiAgX2hhbmRsZUxpa2VDYXJkKCkgey8v0JvQsNC50Log0LrQsNGA0YLQvtGH0LXQulxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtYnV0dG9uJykuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XG4gICAgY29uc29sZS5sb2codGhpcy5fc2VsZklkKVxuICB9XG59XG5leHBvcnQge0NhcmR9XG5cblxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7ICAvL9Ca0LvQsNGB0YEg0LTQu9GPINGE0L7RgNC8INCy0LDQu9C40LTQsNGG0LjQuFxuICBjb25zdHJ1Y3RvcihkYXRhLCBmb3JtKSB7XG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XG4gICAgdGhpcy5fZm9ybUlucHV0cyA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKGRhdGEuaW5wdXQpKTtcblxuICAgIHRoaXMuX2lucHV0ID0gZGF0YS5pbnB1dDtcbiAgICB0aGlzLl9pbnB1dEludmFsaWRDbGFzcyA9IGRhdGEuaW5wdXRJbnZhbGlkQ2xhc3M7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGRhdGEuc3VibWl0QnV0dG9uKTtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gZGF0YS5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICB9XG5cbiAgLy/Qo9GB0YLQsNC90L7QstC60LAg0YHQvtGB0YLQvtGP0L3QuNGPINC60L3QvtC/0LrQuFxuICBzZXRTdWJtaXRCdXR0b25TdGF0ZSgpIHtcbiAgICBjb25zdCBpc1ZhbGlkID0gdGhpcy5fZm9ybS5jaGVja1ZhbGlkaXR5KCk7XG5cbiAgICBpZihpc1ZhbGlkKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICB9XG4gIH1cblxuLy/QntCx0YDQsNCx0L7RgtGH0LjQuiDQv9C+0LvQtdC5INCy0LLQvtC00LBcbiAgLy8gX2hhbmRsZUZvcm1JbnB1dCgpIHtcbiAgLy8gICAvLyDQnNC10L3Rj9C10Lwg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuCDQvtGC0L/RgNCw0LLQutC4INCyINC30LDQstC40YHQuNC80L7RgdGC0Lgg0L7RgiDQstCw0LvQuNC00L3QvtGB0YLQuCDRhNC+0YDQvNGLXG4gIC8vICAgdGhpcy5zZXRTdWJtaXRCdXR0b25TdGF0ZSgpO1xuICAvLyB9XG5cbiAgX2lzVmFsaWQgPSAoZm9ybUlucHV0KSA9PiB7ICAvL9C/0YDQvtCy0LXRgNC60LAg0LLQsNC70LjQtNC90L7RgdGC0Lgg0YTQvtGA0LzRiyDQuCDRg9GB0YLQsNC90L7QstC60LAg0YHQvtC+0LHRidC10L3QuNGPINC+0LEg0L7RiNC40LHQutC1XG4gICAgY29uc3Qgc3BhbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7Zm9ybUlucHV0Lm5hbWV9LWVycm9yYCk7XG5cbiAgICBpZiAoIWZvcm1JbnB1dC52YWxpZGl0eS52YWxpZCB8fCBmb3JtSW5wdXQudmFsaWRpdHkudHlwZU1pc21hdGNoKSB7XG4gICAgICBzcGFuLnRleHRDb250ZW50ID0gZm9ybUlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0SW52YWxpZENsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IGZvcm1JbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICAgIHNwYW4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEludmFsaWRDbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4geyAgLy/RgdC70YPRiNCw0YLQtdC70Lgg0LTQu9GPINC/0L7Qu9C10Lkg0LLQstC+0LTQsFxuICAgIHRoaXMuX2Zvcm1JbnB1dHMuZm9yRWFjaCgoZm9ybUlucHV0KSA9PiB7XG4gICAgICBmb3JtSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2lzVmFsaWQoZm9ybUlucHV0KTtcbiAgICAgICAgdGhpcy5zZXRTdWJtaXRCdXR0b25TdGF0ZSgpO1xuICAgICAgICAvLyB0aGlzLl9oYW5kbGVGb3JtSW5wdXQoKVxuICAgICAgfSk7XG4gICAgfSlcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIH0pXG4gIH1cbiAgcmVzZXRFcnJvcigpIHtcbiAgICB0aGlzLl9mb3JtSW5wdXRzLmZvckVhY2goKGZvcm1JbnB1dCkgPT4ge1xuICAgICAgY29uc3Qgc3BhbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7Zm9ybUlucHV0Lm5hbWV9LWVycm9yYCk7XG4gICAgICBzcGFuLnRleHRDb250ZW50ID0gJyc7XG4gICAgICBzcGFuLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRJbnZhbGlkQ2xhc3MpO1xuICAgICAgfSk7XG4gICAgdGhpcy5zZXRTdWJtaXRCdXR0b25TdGF0ZSgpO1xuICAgIH1cbn07XG5cblxuZXhwb3J0IHtGb3JtVmFsaWRhdG9yfVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbntcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGNhcmRDb250YWluZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNhcmRDb250YWluZXI7XG4gIH1cbiAgYWRkQ2FyZChjYXJkKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChjYXJkKTtcbiAgfVxuICBhZGRDdXN0b21DYXJkKGNhcmQpIHtcbiAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoY2FyZCk7XG59XG5cbiAgYWRkSW5pdGlhbENhcmRzKGNhcmRzKSB7XG4gICAgY2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKVxuICAgIH0pO1xuICB9XG4gfVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xuICAgIHRoaXMuX3BvcHVwID0gcG9wdXA7XG4gICAgdGhpcy5fY2xvc2VFc2NQb3B1cCA9IHRoaXMuX2Nsb3NlRXNjUG9wdXAuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9jbG9zZU92ZXJsYXlDbGljayA9IHRoaXMuX2Nsb3NlT3ZlcmxheUNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fcG9wdXBCdXR0b25DbG9zZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UnKTtcbiAgICBpZiAodGhpcy5fc3VibWl0QnV0dG9uKSB7XG4gICAgICB0aGlzLl9kZWZhdWx0QnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcbiAgICB9XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2Nsb3NlRXNjUG9wdXApO1xuXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fY2xvc2VPdmVybGF5Q2xpY2spO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xvc2VFc2NQb3B1cCk7XG4gICAgdGhpcy5fcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fY2xvc2VPdmVybGF5Q2xpY2spO1xuICB9XG5cbiAgX2hhbmRsZUNsb3NlQnV0dG9uKGV2dCkge1xuICAgIGlmKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9jbG9zZUVzY1BvcHVwKGV2dCkgeyAvL9CX0LDQutGA0YvRgtC40LUgcG9wdXAg0L/RgNC4INC90LDQttCw0YLQuNC4IEVzY1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9jbG9zZU92ZXJsYXlDbGljayhldnQpIHsgLy/Ql9Cw0LrRgNGL0YLQuNC1IHBvcHVwINC/0YDQuCDQutC70LjQutC1INC90LAg0L7QstC10YDQu9C10LlcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICByZXNldEJ1dHRvblN0YXRlKCl7XG4gICAgaWYgKHRoaXMuX3N1Ym1pdEJ1dHRvbikge1xuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9kZWZhdWx0QnV0dG9uVGV4dDtcbiAgICB9XG4gIH1cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBCdXR0b25DbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHRoaXMuX2hhbmRsZUNsb3NlQnV0dG9uKGV2dCkpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XG4gICAgc3VwZXIocG9wdXApO1xuICAgIHRoaXMuX2xpbmsgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XG4gICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1YnRpdGxlJyk7XG4gIH1cblxuICBvcGVuKGRhdGEpIHtcbiAgICB0aGlzLl9saW5rLnNyYyA9IGRhdGEubGluaztcbiAgICB0aGlzLl9saW5rLmFsdCA9IGRhdGEudGl0bGU7XG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSBkYXRhLnRpdGxlO1xuICAgIHN1cGVyLm9wZW4oKVxuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXAsIGZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG4gICAgdGhpcy5fZm9ybVN1Ym1pdCA9IGZvcm1TdWJtaXQ7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpKTtcbiAgICB0aGlzLl9pbnB1dFZhbHVlcyA9IHt9XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB0aGlzLl9pbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKTtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRWYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fZm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgICAvLyB0aGlzLl9wb3B1cEZvcm0udGV4dENvbnRlbnQgPSAnJ1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGFib3V0LCBhdmF0YXIsIGlkKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fYWJvdXQgPSBhYm91dDtcbiAgICB0aGlzLl9hdmF0YXIgPSBhdmF0YXI7XG4gICAgdGhpcy5faWQgPSBpZDtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX2Fib3V0LnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXIsXG4gICAgICBpZDogdGhpcy5faWRcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8ocHJvZmlsZSkge1xuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBwcm9maWxlLm5hbWU7XG4gICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBwcm9maWxlLmFib3V0O1xuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBwcm9maWxlLmF2YXRhcjtcbiAgICB0aGlzLl9pZCA9IHByb2ZpbGUuX2lkO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgX2hhbmRsZVJlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgZ2V0UHJvZmlsZSgpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpKTtcbiAgfVxuXG4gIHNldEF2YXRhcihkYXRhKSB7XG4gICAgcmV0dXJuICBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXNwb25zZSkpO31cblxuICB1cGRhdGVQcm9maWxlKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXNwb25zZSkpO1xuICAgIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKSk7XG4gIH1cbiAgYWRkQ2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rXG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXNwb25zZSkpO1xuICB9XG4gIGdldERhdGEoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFsgdGhpcy5nZXRQcm9maWxlKCksIHRoaXMuZ2V0SW5pdGlhbENhcmRzKCkgXSlcbiAgfVxuXG4gIGFkZExpa2UoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzL2xpa2VzLyR7ZGF0YX1gLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpKTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXNwb25zZSkpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBEZWxldGVDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XG4gICAgc3VwZXIocG9wdXApO1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbiAgICB0aGlzLl9mb3JtU3VibWl0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlJyk7XG4gICAgdGhpcy5fc3VibWl0ID0gbnVsbDtcbiAgfVxuXG4gIHNldE5ld0hhbmRsZXIoc3VibWl0KSB7XG4gICAgdGhpcy5fc3VibWl0ID0gc3VibWl0O1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLl9mb3JtKVxuICAgICAgdGhpcy5fZm9ybVN1Ym1pdC50ZXh0Q29udGVudCA9ICfQo9C00LDQu9C10L3QuNC1Li4uJ1xuICAgICAgdGhpcy5fc3VibWl0KCk7XG4gICAgfSlcbiAgfVxuXG5cbn1cblxuIiwiY29uc3QgYnV0dG9uRWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcbmNvbnN0IHBvcHVwUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlLXBvcHVwJyk7XG5jb25zdCBwcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUnKTtcbmNvbnN0IGZvcm1FbGVtZW50ID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpXG5jb25zdCBwcm9maWxlTmFtZSA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX25hbWUnKTtcbmNvbnN0IGlucHV0RmllbGROYW1lID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZmllbGRfbmFtZScpO1xuY29uc3QgcHJvZmlsZUFib3V0ID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZGVzY3JpcHRpb24nKTtcbmNvbnN0IGlucHV0RmllbGREZXNjID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfZmllbGRfZGVzY3JpcHRpb24nKTtcbmNvbnN0IGJ1dHRvbkFkZENhcmRQb3B1cCA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1jYXJkJyk7XG5jb25zdCBwcm9maWxlQXZhdGFyID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG5jb25zdCBwb3B1cENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1wb3B1cCcpO1xuY29uc3QgY2FyZEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzJyk7XG5jb25zdCBjYXJkRWxlbWVudCA9IHBvcHVwQ2FyZC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbmNvbnN0IHBvcHVwSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW1hZ2UtcG9wdXAnKTtcbmNvbnN0IHBvcHVwRGVsZXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRlbGV0ZS1wb3B1cCcpO1xuY29uc3QgYXBpSW5mbyA9IHtcbiAgdXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0yNy8nLFxuICB0b2tlbjogJzI2YzhkMTY4LTVlMmYtNDMyMS1iNDIwLTA1ZGNiNDFlOTk2NSdcbn1cbmxldCB1c2VySWQgPSBudWxsO1xuXG5leHBvcnQge2J1dHRvbkVkaXRQcm9maWxlLCBwb3B1cFByb2ZpbGUsIHByb2ZpbGUsIGZvcm1FbGVtZW50LCBwcm9maWxlTmFtZSwgaW5wdXRGaWVsZE5hbWUsIHByb2ZpbGVBYm91dCxcbiAgaW5wdXRGaWVsZERlc2MsIGJ1dHRvbkFkZENhcmRQb3B1cCwgcHJvZmlsZUF2YXRhciwgcG9wdXBDYXJkLCBjYXJkRWxlbWVudHMsIGNhcmRFbGVtZW50LCBwb3B1cEltYWdlLCBhcGlJbmZvLCB1c2VySWQsIHBvcHVwRGVsZXRlfVxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQge2VuYWJsZVZhbGlkYXRpb25Db25maWd9IGZyb20gJy4uL3V0aWxzL3ZhbGlkYXRpb25Db25maWcuanMnO1xuaW1wb3J0e0NhcmR9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnR7Rm9ybVZhbGlkYXRvcn0gZnJvbSAnLi4vY29tcG9uZW50cy92YWxpZGF0ZS5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaSc7XG5pbXBvcnQgUG9wdXBEZWxldGVDb25maXJtYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cERlbGV0ZUNvbmZpcm1hdGlvbic7XG5pbXBvcnQge1xuICB1c2VySWQsXG4gIGJ1dHRvbkVkaXRQcm9maWxlLFxuICBwb3B1cFByb2ZpbGUsXG4gIHByb2ZpbGUsXG4gIGZvcm1FbGVtZW50LFxuICBwcm9maWxlTmFtZSxcbiAgaW5wdXRGaWVsZE5hbWUsXG4gIHByb2ZpbGVBYm91dCxcbiAgaW5wdXRGaWVsZERlc2MsXG4gIGJ1dHRvbkFkZENhcmRQb3B1cCxcbiAgcHJvZmlsZUF2YXRhcixcbiAgcG9wdXBDYXJkLFxuICBjYXJkRWxlbWVudCxcbiAgY2FyZEVsZW1lbnRzLFxuICBwb3B1cEltYWdlLFxuICBhcGlJbmZvLFxuICBwb3B1cERlbGV0ZVxufSBmcm9tICcuLi91dGlscy92YXJpYWJsZXMuanMnXG5cblxuXG4vL1RPRE86XG4vL9Cj0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuFxuLy/Qv9C+0YHRgtCw0L3QvtCy0LrQsCDQu9Cw0LnQutCwINGH0LXRgNC10LcgUFVUXG4vL9GD0LTQsNC70LXQvdC40LUg0LvQsNC50LrQsCDRh9C10YDQtdC3IERFTEVURVxuLy/QvtCx0L3QvtCy0LvQtdC90LjQtSDQsNCy0LDRgtCw0YDQsFxuLy/Qm9C+0LDQtNC10YDRiyDQtNC70Y8g0LLRgdC10YUg0YTQvtGA0LxcblxuXG5cbi8v0J/RgNC+0YTQuNC70YxcblxuY29uc3QgZm9ybVZhbGlkYXRvclByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcihlbmFibGVWYWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudCk7XG5mb3JtVmFsaWRhdG9yUHJvZmlsZS5lbmFibGVWYWxpZGF0aW9uKCk7Ly/QstCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LzRiyDQv9GA0L7RhNC40LvRj1xuXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBQcm9maWxlLCBoYW5kbGVTdWJtaXRQcm9maWxlKTtcbnBvcHVwRWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgdXNlclByb2ZpbGUgPSBuZXcgVXNlckluZm8ocHJvZmlsZU5hbWUsIHByb2ZpbGVBYm91dCwgcHJvZmlsZUF2YXRhciwgdXNlcklkKTtcblxuZnVuY3Rpb24gaGFuZGxlVXNlclByb2ZpbGUoKSB7IC8v0L7RgtC60YDRi9GC0LjQtSDQv9C+0L8t0LDQv9CwINC/0YDQvtGE0LjQu9GPINGBINC/0LXRgNC10L3QvtGB0L7QvCDQsiDQuNC90L/Rg9GC0YtcbiAgcG9wdXBFZGl0UHJvZmlsZS5vcGVuKCk7XG4gIGZvcm1WYWxpZGF0b3JQcm9maWxlLnJlc2V0RXJyb3IoKTtcbiAgY29uc3QgcHJvZmlsZSA9IHVzZXJQcm9maWxlLmdldFVzZXJJbmZvKCk7XG4gIGlucHV0RmllbGROYW1lLnZhbHVlID0gcHJvZmlsZS5uYW1lO1xuICBpbnB1dEZpZWxkRGVzYy52YWx1ZSA9IHByb2ZpbGUuYWJvdXQ7XG59XG5mdW5jdGlvbiBoYW5kbGVTdWJtaXRQcm9maWxlKGZvcm0pIHsgLy8g0YHQsNCx0LzQuNGCINC/0L7Qvy3QsNC/0LAg0L/RgNC+0YTQuNC70Y9cbiAgYXBpLnVwZGF0ZVByb2ZpbGUoZm9ybSk7XG4gIHVzZXJQcm9maWxlLnNldFVzZXJJbmZvKGZvcm0pO1xufVxuXG4vL9Cf0YDQtdC00LfQsNCz0YDRg9C20LXQvdC90YvQtSDQutCw0YDRgtC+0YfQutC4XG5jb25zdCBoYW5kbGVPcGVuSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBJbWFnZSk7XG5oYW5kbGVPcGVuSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKG5hbWUsIGxpbmspIHsgLy/QntGC0LrRgNGL0YLQuNC1INGD0LLQtdC70LjRh9C10L3QvdC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxuICBoYW5kbGVPcGVuSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcbn07XG5cbmZ1bmN0aW9uIGNhcmRSZW5kZXJlcihjYXJkSXRlbSkgeyAvL9C+0YLRgNC40YHQvtCy0LrQsCDQutCw0YDRgtC+0YfQutC4XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBjYXJkSXRlbSxcbiAgICAnLmNhcmQtdGVtcGxhdGUnLFxuICAgIGhhbmRsZUNhcmRDbGljayxcbiAgICB1c2VyUHJvZmlsZS5nZXRVc2VySW5mbygpLmlkLFxuICAgIGhhbmRsZURlbGV0ZUJ1dHRvbixcbiAgICAvLyAoKSA9PiBoYW5kbGVMaWtlQ2xpY2soY2FyZCwgY2FyZEl0ZW0pLFxuICAgIHBvcHVwRGVsZXRlQ29uZmlybWF0aW9uXG4gICAgKTtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLnJlbmRlckNhcmQoKTtcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5jb25zdCByZW5kZXJDYXJkcyA9IG5ldyBTZWN0aW9uKChpdGVtKSA9PiB7XG4gIHJlbmRlckNhcmRzLmFkZENhcmQoY2FyZFJlbmRlcmVyKGl0ZW0pKVxufSwgY2FyZEVsZW1lbnRzKTtcblxuXG4vL9Cf0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC1INC/0YDQuCDRg9C00LDQu9C10L3QuNC4INC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IHBvcHVwRGVsZXRlQ29uZmlybWF0aW9uID0gbmV3IFBvcHVwRGVsZXRlQ29uZmlybWF0aW9uKHBvcHVwRGVsZXRlLCBoYW5kbGVEZWxldGVCdXR0b24pO1xucG9wdXBEZWxldGVDb25maXJtYXRpb24uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQnV0dG9uKGNhcmRJZCwgY2FyZCkge1xuICBhcGkuZGVsZXRlQ2FyZChjYXJkSWQpLnRoZW4oKHJlcykgPT4ge1xuICAgIGNhcmQucmVtb3ZlKCk7XG4gICAgcG9wdXBEZWxldGVDb25maXJtYXRpb24uY2xvc2UoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIudG9TdHJpbmcoKSlcbiAgfSlcbiAgLmZpbmFsbHkoKCkgPT4gcG9wdXBEZWxldGVDb25maXJtYXRpb24ucmVzZXRCdXR0b25TdGF0ZSgpKVxufVxuXG4vLyDQndC+0LLQsNGPINC60LDRgNGC0L7Rh9C60LBcbmNvbnN0IGZvcm1WYWxpZGF0b3JDYXJkID0gbmV3IEZvcm1WYWxpZGF0b3IoZW5hYmxlVmFsaWRhdGlvbkNvbmZpZywgY2FyZEVsZW1lbnQpO1xuZm9ybVZhbGlkYXRvckNhcmQuZW5hYmxlVmFsaWRhdGlvbigpOy8vINCy0LDQu9C40LTQsNGG0LjRjyDQv9C+0L8t0LDQv9CwINC60LDRgNGC0L7Rh9C60LhcblxuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBDYXJkLCBoYW5kbGVTdWJtaXRDYXJkKTtcbnBvcHVwQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBvcGVuQWRkQ2FyZFBvcHVwKCkge1xuICBwb3B1cEFkZENhcmQub3BlbigpO1xuICBmb3JtVmFsaWRhdG9yQ2FyZC5yZXNldEVycm9yKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdENhcmQoZm9ybSkge1xuICBhcGkuYWRkQ2FyZChmb3JtKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHJlbmRlckNhcmRzLmFkZEN1c3RvbUNhcmQoY2FyZFJlbmRlcmVyKHJlcykpXG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCwg0YDQstCw0YLRjCDQtdGRINC80LDRgtGMIScgKyBlcnIudG9TdHJpbmcoKSkpXG59XG4vL0FQSVxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IGFwaUluZm8udXJsLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogYXBpSW5mby50b2tlbixcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH19KTtcblxuXG4vLyBmdW5jdGlvbiBnZXRQcm9maWxlSW5mbygpIHtcbi8vICAgcmV0dXJuIGFwaS5nZXRQcm9maWxlKClcbi8vIH1cblxuLy8gZnVuY3Rpb24gZ2V0Q2FyZHNJbmZvKCkge1xuLy8gICByZXR1cm4gYXBpLmdldEluaXRpYWxDYXJkcygpXG4vLyB9XG5cbmFwaS5nZXREYXRhKCkudGhlbihkYXRhID0+IHtcbiAgY29uc3QgWyB1c2VySW5mbywgY2FyZHMgIF0gPSBkYXRhO1xuICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyh1c2VySW5mbyk7XG4gIHJlbmRlckNhcmRzLmFkZEluaXRpYWxDYXJkcyhjYXJkcyk7XG4gIC8vIGNvbnNvbGUubG9nKHVzZXJJbmZvKVxuICAvLyBjb25zb2xlLmxvZyh1c2VyUHJvZmlsZSlcbn0pLnRoZW4oKVxuXG4uY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCwg0YDQstCw0YLRjCDQtdGRINC80LDRgtGMIScgKyBlcnIudG9TdHJpbmcoKSkpXG5cbi8vIFByb21pc2UuYWxsKFtnZXRQcm9maWxlSW5mbygpLCBnZXRDYXJkc0luZm8oKV0pLnRoZW4oKHZhbHVlcykgPT4ge1xuLy8gICBjb25zdCB1c2VyUHJvZmlsZURhdGEgPSB2YWx1ZXNbMF07XG4vLyAgIGNvbnN0IGluaXRpYWxDYXJkc0RhdGEgPSB2YWx1ZXNbMV07XG4vLyAgIGNvbnN0IHVzZXJJbmZvID0ge1xuLy8gICAgICduYW1lJzogdXNlclByb2ZpbGVEYXRhLm5hbWUsXG4vLyAgICAgJ2Fib3V0JzogdXNlclByb2ZpbGVEYXRhLmFib3V0LFxuLy8gICAgICdhdmF0YXInOiB1c2VyUHJvZmlsZURhdGEuYXZhdGFyLFxuLy8gICAgICdpZCc6IHVzZXJQcm9maWxlRGF0YS5faWRcbi8vICAgfVxuLy8gICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyh1c2VySW5mbyk7XG4vLyAgIHJlbmRlckNhcmRzLmFkZEluaXRpYWxDYXJkcyhpbml0aWFsQ2FyZHNEYXRhKTtcbi8vIH0pLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LAsINGA0LLQsNGC0Ywg0LXRkSDQvNCw0YLRjCEnICsgZXJyLnRvU3RyaW5nKCkpKVxuXG5cblxuLy/QodC70YPRiNCw0YLQtdC70Lgg0LrQvdC+0L/QvtC6INC/0L7Qvy3QsNC/0L7QslxuYnV0dG9uRWRpdFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVVc2VyUHJvZmlsZSk7XG5idXR0b25BZGRDYXJkUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkQ2FyZFBvcHVwKTtcblxuXG4vL9Cf0YDQvtCy0LXRgNC60LAg0YDQsNCx0L7RgtGLINGB0LXRgNCy0LXRgNCwXG5cbmZldGNoKCdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTI3L2NhcmRzJywge1xuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJzI2YzhkMTY4LTVlMmYtNDMyMS1iNDIwLTA1ZGNiNDFlOTk2NSdcbiAgfVxufSlcbiAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gIC50aGVuKChjYXJkcykgPT4ge1xuICAgIGNvbnNvbGUubG9nKGNhcmRzKTtcbiAgfSk7XG4iXSwic291cmNlUm9vdCI6IiJ9