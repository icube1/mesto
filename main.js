(()=>{"use strict";var e={form:".popup__form",input:".popup__input",inputInvalidClass:"error_invalid",submitButton:".popup__save",inactiveButtonClass:"popup__save_invalid"};function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._title=t.name,this._link=t.link,this._likes=t.likes,this._likeQuantity=t.likes.length,this._id=t._id,this._ownerId=t.owner._id,this._selfId=o,this._cardSelector=n,this._handleCardClick=r,this._handleDeleteButton=i}var n,r;return n=e,(r=[{key:"cardId",value:function(){return this._id}},{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".element__delete-button").addEventListener("click",(function(){return e._handleDeleteButton()})),this._element.querySelector(".element__like-button").addEventListener("click",(function(){return e._handleLikeCard()})),this._element.querySelector(".element__cover").addEventListener("click",(function(){return e._handleCardClick({title:e._title,link:e._link})}))}},{key:"renderCard",value:function(){this._element=this._getTemplate();var e=this._element.querySelector(".element__cover"),t=this._element.querySelector(".element__title"),n=this._element.querySelector(".element__like-button_quantity"),r=this._element.querySelector(".element__delete-button");return e.src=this._link,t.textContent=this._title,e.alt=this._title,this._ownerId!==this._selfId&&(r.style.display="none"),this._likes&&(n.textContent=this._likeQuantity),this._setEventListeners(),this._element}},{key:"setLikes",value:function(){cardLikes.textContent=this._likeQuantity}},{key:"handleDeleteCard",value:function(){this._element.remove(),this._element=null}},{key:"_handleLikeCard",value:function(){this._element.querySelector(".element__like-button").classList.toggle("element__like-button_active"),console.log(this._selfId)}}])&&t(n.prototype,r),e}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"_isValid",(function(e){var t=r._form.querySelector("#".concat(e.name,"-error"));!e.validity.valid||e.validity.typeMismatch?(t.textContent=e.validationMessage,t.classList.add(r._inputInvalidClass)):(t.textContent=e.validationMessage,t.classList.remove(r._inputInvalidClass))})),o(this,"_setEventListeners",(function(){r._formInputs.forEach((function(e){e.addEventListener("input",(function(){r._isValid(e),r.setSubmitButtonState()}))}))})),o(this,"enableValidation",(function(){r._setEventListeners(),r._form.addEventListener("submit",(function(e){e.preventDefault()}))})),this._form=n,this._formInputs=Array.from(this._form.querySelectorAll(t.input)),this._input=t.input,this._inputInvalidClass=t.inputInvalidClass,this._submitButton=this._form.querySelector(t.submitButton),this._inactiveButtonClass=t.inactiveButtonClass}var t,n;return t=e,(n=[{key:"setSubmitButtonState",value:function(){this._form.checkValidity()?(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.removeAttribute("disabled")):(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.setAttribute("disabled","disabled"))}},{key:"resetError",value:function(){var e=this;this._formInputs.forEach((function(t){var n=e._form.querySelector("#".concat(t.name,"-error"));n.textContent="",n.classList.remove(e._inputInvalidClass)})),this.setSubmitButtonState()}}])&&r(t.prototype,n),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t,this._container=n}var t,n;return t=e,(n=[{key:"addCard",value:function(e){this._container.append(e)}},{key:"addCustomCard",value:function(e){this._container.prepend(e)}},{key:"addInitialCards",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&u(t.prototype,n),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._closeEscPopup=this._closeEscPopup.bind(this),this._closeOverlayClick=this._closeOverlayClick.bind(this),this._popupButtonClose=this._popup.querySelector(".popup__close")}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._closeEscPopup),this._popup.addEventListener("mousedown",this._closeOverlayClick)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._closeEscPopup),this._popup.removeEventListener("mousedown",this._closeOverlayClick)}},{key:"_handleCloseButton",value:function(e){(e.target.classList.contains("popup")||e.target.classList.contains("popup__close"))&&this.close()}},{key:"_closeEscPopup",value:function(e){"Escape"===e.key&&this.close()}},{key:"_closeOverlayClick",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupButtonClose.addEventListener("click",(function(t){return e._handleCloseButton(t)}))}}])&&c(t.prototype,n),e}();function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._link=t._popup.querySelector(".popup__image"),t._title=t._popup.querySelector(".popup__subtitle"),t}return t=u,(n=[{key:"open",value:function(e){this._link.src=e.link,this._link.alt=e.title,this._title.textContent=e.title,p(_(u.prototype),"open",this).call(this)}}])&&f(t.prototype,n),u}(s);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._popupForm=n._popup.querySelector(".popup__form"),n._formSubmit=t,n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputs=Array.from(this._popupForm.querySelectorAll(".popup__input")),this._inputValues={},this._inputs.forEach((function(t){return e._inputValues[t.name]=t.value})),this._inputValues}},{key:"setEventListeners",value:function(){var e=this;b(S(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._formSubmit(e._getInputValues()),e.close()}))}},{key:"close",value:function(){b(S(u.prototype),"close",this).call(this),this._popupForm.reset()}}])&&m(t.prototype,n),u}(s);function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._about=n,this._avatar=r,this._id=o}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,avatar:this._avatar,id:this._id}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about,this._avatar.src=e.avatar,this._id=e._id}}])&&C(t.prototype,n),e}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getProfile",value:function(){var e=this;return fetch("".concat(this._baseUrl,"users/me"),{headers:this._headers}).then((function(t){return e._handleResponse(t)}))}},{key:"setAvatar",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"cards"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return t._handleResponse(e)}))}},{key:"updateProfile",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return t._handleResponse(e)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"cards"),{headers:this._headers}).then((function(t){return e._handleResponse(t)}))}},{key:"addCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t._handleResponse(e)}))}},{key:"getData",value:function(){return Promise.all([this.getProfile(),this.getInitialCards()])}},{key:"addLike",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then((function(e){return t._handleResponse(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._handleResponse(e)}))}}])&&E(t.prototype,n),e}();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return B(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._form=t._popup.querySelector(".popup__form"),t._formSubmit=t._popup.querySelector(".popup__save"),t}return t=u,(n=[{key:"setNewHandler",value:function(e){this._handleFormSubmit=e}},{key:"setEventListeners",value:function(){var e=this;q(I(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit()}))}},{key:"setButtonText",value:function(e){this._confirmButton.textContent=e?"Удаление...":"Да"}}])&&j(t.prototype,n),u}(s),x=document.querySelector(".profile__edit-button"),U=document.querySelector(".profile-popup"),A=document.querySelector(".profile"),D=U.querySelector(".popup__form"),V=A.querySelector(".profile__name"),F=U.querySelector(".popup__input_field_name"),N=A.querySelector(".profile__description"),H=U.querySelector(".popup__input_field_description"),M=A.querySelector(".profile__add-card"),J=A.querySelector(".profile__avatar"),Q=document.querySelector(".card-popup"),z=document.querySelector(".elements"),$=Q.querySelector(".popup__form"),G=document.querySelector(".image-popup"),K=document.querySelector(".delete-popup");function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=new i(e,D);X.enableValidation();var Y=new w(U,(function(e){ae.updateProfile(e),Z.setUserInfo(e)}));Y.setEventListeners();var Z=new O(V,N,J,null),ee=new y(G);function te(e,t){ee.open(e,t)}function ne(e){var t=new n(e,".card-template",te,Z.getUserInfo().id,(function(){return function(e){oe.open(),oe.setNewHandler((function(){oe.setButtonText(!0),ae.deleteCard(e.cardId()).then((function(){e.handleDeleteCard(),oe.close()})).catch((function(e){return console.log(e)})).finally((function(){oe.setButtonText(!1)}))}))}(t)}),(function(){return handleLikeClick(t,e)}));return t.renderCard()}ee.setEventListeners();var re=new a((function(e){re.addCard(ne(e))}),z),oe=new T(K);oe.setEventListeners();var ie=new i(e,$);ie.enableValidation();var ue=new w(Q,(function(e){ae.addCard(e).then((function(e){re.addCustomCard(ne(e))})).catch((function(e){return console.log("Ошибка, рвать её мать!"+e.toString())}))}));ue.setEventListeners();var ae=new P({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-27/",headers:{authorization:"26c8d168-5e2f-4321-b420-05dcb41e9965","Content-Type":"application/json"}});ae.getData().then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];Z.setUserInfo(o),re.addInitialCards(i)})).then().catch((function(e){return console.log("Ошибка, рвать её мать!"+e.toString())})),x.addEventListener("click",(function(){Y.open(),X.resetError();var e=Z.getUserInfo();F.value=e.name,H.value=e.about})),M.addEventListener("click",(function(){ue.open(),ie.resetError()})),fetch("https://mesto.nomoreparties.co/v1/cohort-27/cards",{headers:{authorization:"26c8d168-5e2f-4321-b420-05dcb41e9965"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy92YWxpZGF0aW9uQ29uZmlnLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL3ZhbGlkYXRlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cERlbGV0ZUNvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy92YXJpYWJsZXMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwibmFtZXMiOlsiZW5hYmxlVmFsaWRhdGlvbkNvbmZpZyIsImZvcm0iLCJpbnB1dCIsImlucHV0SW52YWxpZENsYXNzIiwic3VibWl0QnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIkNhcmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwic2VsZklkIiwiaGFuZGxlRGVsZXRlQnV0dG9uIiwidGhpcyIsIl9kYXRhIiwiX3RpdGxlIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwiX2xpa2VRdWFudGl0eSIsImxlbmd0aCIsIl9pZCIsIl9vd25lcklkIiwib3duZXIiLCJfc2VsZklkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlQ2FyZCIsInRpdGxlIiwiX2dldFRlbXBsYXRlIiwiY2FyZENvdmVyIiwiY2FyZFRpdGxlIiwiY2FyZExpa2VzIiwiY2FyZERlbGV0ZUJ1dHRvbiIsInNyYyIsInRleHRDb250ZW50IiwiYWx0Iiwic3R5bGUiLCJkaXNwbGF5IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiY29uc29sZSIsImxvZyIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtSW5wdXQiLCJzcGFuIiwiX2Zvcm0iLCJ2YWxpZGl0eSIsInZhbGlkIiwidHlwZU1pc21hdGNoIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJhZGQiLCJfaW5wdXRJbnZhbGlkQ2xhc3MiLCJfZm9ybUlucHV0cyIsImZvckVhY2giLCJfaXNWYWxpZCIsInNldFN1Ym1pdEJ1dHRvblN0YXRlIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfaW5wdXQiLCJfc3VibWl0QnV0dG9uIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJjaGVja1ZhbGlkaXR5IiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiU2VjdGlvbiIsInJlbmRlcmVyIiwiY2FyZENvbnRhaW5lciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJjYXJkIiwiYXBwZW5kIiwicHJlcGVuZCIsImNhcmRzIiwiaXRlbSIsIlBvcHVwIiwicG9wdXAiLCJfcG9wdXAiLCJfY2xvc2VFc2NQb3B1cCIsImJpbmQiLCJfY2xvc2VPdmVybGF5Q2xpY2siLCJfcG9wdXBCdXR0b25DbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJ0YXJnZXQiLCJjb250YWlucyIsImNsb3NlIiwia2V5IiwiY3VycmVudFRhcmdldCIsIl9oYW5kbGVDbG9zZUJ1dHRvbiIsIlBvcHVwV2l0aEltYWdlIiwiUG9wdXBXaXRoRm9ybSIsImZvcm1TdWJtaXQiLCJfcG9wdXBGb3JtIiwiX2Zvcm1TdWJtaXQiLCJfaW5wdXRzIiwiX2lucHV0VmFsdWVzIiwidmFsdWUiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwiYWJvdXQiLCJhdmF0YXIiLCJpZCIsIl9uYW1lIiwiX2Fib3V0IiwiX2F2YXRhciIsInByb2ZpbGUiLCJBcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJfaGFuZGxlUmVzcG9uc2UiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFsbCIsImdldFByb2ZpbGUiLCJnZXRJbml0aWFsQ2FyZHMiLCJQb3B1cERlbGV0ZUNvbmZpcm1hdGlvbiIsImFjdGlvbiIsIl9oYW5kbGVGb3JtU3VibWl0IiwiaXNEZWxldGluZyIsIl9jb25maXJtQnV0dG9uIiwiYnV0dG9uRWRpdFByb2ZpbGUiLCJwb3B1cFByb2ZpbGUiLCJmb3JtRWxlbWVudCIsInByb2ZpbGVOYW1lIiwiaW5wdXRGaWVsZE5hbWUiLCJwcm9maWxlQWJvdXQiLCJpbnB1dEZpZWxkRGVzYyIsImJ1dHRvbkFkZENhcmRQb3B1cCIsInByb2ZpbGVBdmF0YXIiLCJwb3B1cENhcmQiLCJjYXJkRWxlbWVudHMiLCJjYXJkRWxlbWVudCIsInBvcHVwSW1hZ2UiLCJwb3B1cERlbGV0ZSIsImZvcm1WYWxpZGF0b3JQcm9maWxlIiwiZW5hYmxlVmFsaWRhdGlvbiIsInBvcHVwRWRpdFByb2ZpbGUiLCJhcGkiLCJ1cGRhdGVQcm9maWxlIiwidXNlclByb2ZpbGUiLCJzZXRVc2VySW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwiaGFuZGxlT3BlbkltYWdlIiwib3BlbiIsImNhcmRSZW5kZXJlciIsImNhcmRJdGVtIiwiZ2V0VXNlckluZm8iLCJwb3B1cERlbGV0ZUNvbmZpcm1hdGlvbiIsInNldE5ld0hhbmRsZXIiLCJzZXRCdXR0b25UZXh0IiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsImhhbmRsZURlbGV0ZUNhcmQiLCJjYXRjaCIsImVyciIsImZpbmFsbHkiLCJoYW5kbGVMaWtlQ2xpY2siLCJyZW5kZXJDYXJkIiwicmVuZGVyQ2FyZHMiLCJhZGRDYXJkIiwiZm9ybVZhbGlkYXRvckNhcmQiLCJwb3B1cEFkZENhcmQiLCJhZGRDdXN0b21DYXJkIiwidG9TdHJpbmciLCJhdXRob3JpemF0aW9uIiwiZ2V0RGF0YSIsInVzZXJJbmZvIiwiYWRkSW5pdGlhbENhcmRzIiwicmVzZXRFcnJvciJdLCJtYXBwaW5ncyI6Im1CQUFPLElBQU1BLEVBQXlCLENBQ3BDQyxLQUFNLGVBQ05DLE1BQU8sZ0JBQ1BDLGtCQUFtQixnQkFDbkJDLGFBQWMsZUFDZEMsb0JBQXFCLHVCLDBLQ0xqQkMsRSxXQUNMLFdBQVlDLEVBQU1DLEVBQWNDLEVBQWlCQyxFQUFRQyxJLDRGQUFvQixTQUMxRUMsS0FBS0MsTUFBUU4sRUFDZkssS0FBS0UsT0FBU1AsRUFBS1EsS0FDbkJILEtBQUtJLE1BQVFULEVBQUtVLEtBQ2hCTCxLQUFLTSxPQUFTWCxFQUFLWSxNQUNuQlAsS0FBS1EsY0FBZ0JiLEVBQUtZLE1BQU1FLE9BQ2hDVCxLQUFLVSxJQUFNZixFQUFLZSxJQUNoQlYsS0FBS1csU0FBV2hCLEVBQUtpQixNQUFNRixJQUUzQlYsS0FBS2EsUUFBVWYsRUFFZkUsS0FBS2MsY0FBZ0JsQixFQUNyQkksS0FBS2UsaUJBQW1CbEIsRUFDeEJHLEtBQUtnQixvQkFBc0JqQixFLDJDQUc3QixXQUNFLE9BQU9DLEtBQUtVLE0sMEJBR2QsV0FPRSxPQU5hTyxTQUNWQyxjQUFjbEIsS0FBS2MsZUFDbkJLLFFBQ0FELGNBQWMsWUFDZEUsV0FB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RmdELE9BQU0sU0FBQ0MsR0FBRCxPQUFTbkksUUFBUUMsSUFBSSx5QkFBMkJrSSxFQUFJUyxlQWtCM0QzQyxFQUFrQmxILGlCQUFpQixTQXhIbkMsV0FDRWtJLEVBQWlCTyxPQUNqQlQsRUFBcUJrQyxhQUNyQixJQUFNNUUsRUFBVStDLEVBQVlPLGNBQzVCdEIsUUFBdUJoQyxFQUFRekcsS0FDL0IySSxRQUF1QmxDLEVBQVFOLFNBb0hqQ3lDLEVBQW1CekgsaUJBQWlCLFNBeERwQyxXQUNFMkosR0FBYWxCLE9BQ2JpQixHQUFrQlEsZ0JBMkRwQmhFLE1BQU0sb0RBQXFELENBQ3pEVCxRQUFTLENBQ1BxRSxjQUFlLDBDQUdoQjNELE1BQUssU0FBQVAsR0FBRyxPQUFJQSxFQUFJRSxVQUNoQkssTUFBSyxTQUFDL0MsR0FDTG5DLFFBQVFDLElBQUlrQyxPIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZW5hYmxlVmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybTogJy5wb3B1cF9fZm9ybScsXG4gIGlucHV0OiAnLnBvcHVwX19pbnB1dCcsXG4gIGlucHV0SW52YWxpZENsYXNzOiAnZXJyb3JfaW52YWxpZCcsXG4gIHN1Ym1pdEJ1dHRvbjogJy5wb3B1cF9fc2F2ZScsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fc2F2ZV9pbnZhbGlkJyxcbn07XG4iLCJjbGFzcyBDYXJkIHtcblx0Y29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2ssIHNlbGZJZCwgaGFuZGxlRGVsZXRlQnV0dG9uKSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG5cdFx0dGhpcy5fdGl0bGUgPSBkYXRhLm5hbWU7XG5cdFx0dGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XG4gICAgdGhpcy5fbGlrZVF1YW50aXR5ID0gZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XG5cbiAgICB0aGlzLl9zZWxmSWQgPSBzZWxmSWQ7XG5cbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbiA9IGhhbmRsZURlbGV0ZUJ1dHRvbjtcblx0fVxuXG4gIGNhcmRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faWRcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50XG4gICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnQnKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkO1xuICB9XG4gIF9zZXRFdmVudExpc3RlbmVycygpIHsgIC8v0YHQu9GD0YjQsNGC0LXQu9C4INC00LvRjyDQutCw0YDRgtC+0YfQtdC6XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlLWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKCkpO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlQ2FyZCgpKTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19jb3ZlcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKHt0aXRsZTogdGhpcy5fdGl0bGUsIGxpbms6IHRoaXMuX2xpbmt9KSk7XG4gIH1cblxuICByZW5kZXJDYXJkKCkgeyAgLy/QvtGC0YDQuNGB0L7QstC60LAg0LrQsNGA0YLQvtGH0LXQulxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuXG4gICAgY29uc3QgY2FyZENvdmVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fY292ZXInKTtcbiAgICBjb25zdCBjYXJkVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X190aXRsZScpO1xuICAgIGNvbnN0IGNhcmRMaWtlcyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtYnV0dG9uX3F1YW50aXR5Jyk7XG4gICAgY29uc3QgY2FyZERlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZS1idXR0b24nKTtcblxuICAgIGNhcmRDb3Zlci5zcmMgPSB0aGlzLl9saW5rO1xuICAgIGNhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xuICAgIGNhcmRDb3Zlci5hbHQgPSB0aGlzLl90aXRsZTtcblxuICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl9zZWxmSWQpIHtcbiAgICAgIGNhcmREZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIGlmKHRoaXMuX2xpa2VzKXtcbiAgICBjYXJkTGlrZXMudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlUXVhbnRpdHlcbiAgfVxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cblxuICBzZXRMaWtlcygpIHtcbiAgICBjYXJkTGlrZXMudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlUXVhbnRpdHk7XG4gIH1cblxuICBoYW5kbGVEZWxldGVDYXJkKCkgey8v0YPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQtdC6XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlQ2FyZCgpIHsvL9Cb0LDQudC6INC60LDRgNGC0L7Rh9C10LpcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ1dHRvbicpLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuX3NlbGZJZClcbiAgfVxufVxuZXhwb3J0IHtDYXJkfVxuXG5cbiIsImNsYXNzIEZvcm1WYWxpZGF0b3IgeyAgLy/QmtC70LDRgdGBINC00LvRjyDRhNC+0YDQvCDQstCw0LvQuNC00LDRhtC40LhcbiAgY29uc3RydWN0b3IoZGF0YSwgZm9ybSkge1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICAgIHRoaXMuX2Zvcm1JbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChkYXRhLmlucHV0KSk7XG5cbiAgICB0aGlzLl9pbnB1dCA9IGRhdGEuaW5wdXQ7XG4gICAgdGhpcy5faW5wdXRJbnZhbGlkQ2xhc3MgPSBkYXRhLmlucHV0SW52YWxpZENsYXNzO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihkYXRhLnN1Ym1pdEJ1dHRvbik7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGRhdGEuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgfVxuXG4gIC8v0KPRgdGC0LDQvdC+0LLQutCwINGB0L7RgdGC0L7Rj9C90LjRjyDQutC90L7Qv9C60LhcbiAgc2V0U3VibWl0QnV0dG9uU3RhdGUoKSB7XG4gICAgY29uc3QgaXNWYWxpZCA9IHRoaXMuX2Zvcm0uY2hlY2tWYWxpZGl0eSgpO1xuXG4gICAgaWYoaXNWYWxpZCkge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgfVxuICB9XG5cbi8v0J7QsdGA0LDQsdC+0YLRh9C40Log0L/QvtC70LXQuSDQstCy0L7QtNCwXG4gIC8vIF9oYW5kbGVGb3JtSW5wdXQoKSB7XG4gIC8vICAgLy8g0JzQtdC90Y/QtdC8INGB0L7RgdGC0L7Rj9C90LjQtSDQutC90L7Qv9C60Lgg0L7RgtC/0YDQsNCy0LrQuCDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0LLQsNC70LjQtNC90L7RgdGC0Lgg0YTQvtGA0LzRi1xuICAvLyAgIHRoaXMuc2V0U3VibWl0QnV0dG9uU3RhdGUoKTtcbiAgLy8gfVxuXG4gIF9pc1ZhbGlkID0gKGZvcm1JbnB1dCkgPT4geyAgLy/Qv9GA0L7QstC10YDQutCwINCy0LDQu9C40LTQvdC+0YHRgtC4INGE0L7RgNC80Ysg0Lgg0YPRgdGC0LDQvdC+0LLQutCwINGB0L7QvtCx0YnQtdC90LjRjyDQvtCxINC+0YjQuNCx0LrQtVxuICAgIGNvbnN0IHNwYW4gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2Zvcm1JbnB1dC5uYW1lfS1lcnJvcmApO1xuXG4gICAgaWYgKCFmb3JtSW5wdXQudmFsaWRpdHkudmFsaWQgfHwgZm9ybUlucHV0LnZhbGlkaXR5LnR5cGVNaXNtYXRjaCkge1xuICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IGZvcm1JbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEludmFsaWRDbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBmb3JtSW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgICBzcGFuLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRJbnZhbGlkQ2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHsgIC8v0YHQu9GD0YjQsNGC0LXQu9C4INC00LvRjyDQv9C+0LvQtdC5INCy0LLQvtC00LBcbiAgICB0aGlzLl9mb3JtSW5wdXRzLmZvckVhY2goKGZvcm1JbnB1dCkgPT4ge1xuICAgICAgZm9ybUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9pc1ZhbGlkKGZvcm1JbnB1dCk7XG4gICAgICAgIHRoaXMuc2V0U3VibWl0QnV0dG9uU3RhdGUoKTtcbiAgICAgICAgLy8gdGhpcy5faGFuZGxlRm9ybUlucHV0KClcbiAgICAgIH0pO1xuICAgIH0pXG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICB9KVxuICB9XG4gIHJlc2V0RXJyb3IoKSB7XG4gICAgdGhpcy5fZm9ybUlucHV0cy5mb3JFYWNoKChmb3JtSW5wdXQpID0+IHtcbiAgICAgIGNvbnN0IHNwYW4gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2Zvcm1JbnB1dC5uYW1lfS1lcnJvcmApO1xuICAgICAgc3Bhbi50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgc3Bhbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0SW52YWxpZENsYXNzKTtcbiAgICAgIH0pO1xuICAgIHRoaXMuc2V0U3VibWl0QnV0dG9uU3RhdGUoKTtcbiAgICB9XG59O1xuXG5cbmV4cG9ydCB7Rm9ybVZhbGlkYXRvcn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb257XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBjYXJkQ29udGFpbmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjYXJkQ29udGFpbmVyO1xuICB9XG4gIGFkZENhcmQoY2FyZCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoY2FyZCk7XG4gIH1cbiAgYWRkQ3VzdG9tQ2FyZChjYXJkKSB7XG4gIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGNhcmQpO1xufVxuXG4gIGFkZEluaXRpYWxDYXJkcyhjYXJkcykge1xuICAgIGNhcmRzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSlcbiAgICB9KTtcbiAgfVxuIH1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXApIHtcbiAgICB0aGlzLl9wb3B1cCA9IHBvcHVwO1xuICAgIHRoaXMuX2Nsb3NlRXNjUG9wdXAgPSB0aGlzLl9jbG9zZUVzY1BvcHVwLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY2xvc2VPdmVybGF5Q2xpY2sgPSB0aGlzLl9jbG9zZU92ZXJsYXlDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3BvcHVwQnV0dG9uQ2xvc2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJyk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2Nsb3NlRXNjUG9wdXApO1xuXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fY2xvc2VPdmVybGF5Q2xpY2spO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xvc2VFc2NQb3B1cCk7XG4gICAgdGhpcy5fcG9wdXAucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fY2xvc2VPdmVybGF5Q2xpY2spO1xuICB9XG5cbiAgX2hhbmRsZUNsb3NlQnV0dG9uKGV2dCkge1xuICAgIGlmKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9jbG9zZUVzY1BvcHVwKGV2dCkgeyAvL9CX0LDQutGA0YvRgtC40LUgcG9wdXAg0L/RgNC4INC90LDQttCw0YLQuNC4IEVzY1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9jbG9zZU92ZXJsYXlDbGljayhldnQpIHsgLy/Ql9Cw0LrRgNGL0YLQuNC1IHBvcHVwINC/0YDQuCDQutC70LjQutC1INC90LAg0L7QstC10YDQu9C10LlcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwQnV0dG9uQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB0aGlzLl9oYW5kbGVDbG9zZUJ1dHRvbihldnQpKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xuICAgIHN1cGVyKHBvcHVwKTtcbiAgICB0aGlzLl9saW5rID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xuICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJ0aXRsZScpO1xuICB9XG5cbiAgb3BlbihkYXRhKSB7XG4gICAgdGhpcy5fbGluay5zcmMgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fbGluay5hbHQgPSBkYXRhLnRpdGxlO1xuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gZGF0YS50aXRsZTtcbiAgICBzdXBlci5vcGVuKClcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwLCBmb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXApO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuX2Zvcm1TdWJtaXQgPSBmb3JtU3VibWl0O1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0cyA9IEFycmF5LmZyb20odGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKSk7XG4gICAgdGhpcy5faW5wdXRWYWx1ZXMgPSB7fVxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gdGhpcy5faW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2Zvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XG4gICAgLy8gdGhpcy5fcG9wdXBGb3JtLnRleHRDb250ZW50ID0gJydcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBhYm91dCwgYXZhdGFyLCBpZCkge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2Fib3V0ID0gYWJvdXQ7XG4gICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyO1xuICAgIHRoaXMuX2lkID0gaWQ7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCxcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyLFxuICAgICAgaWQ6IHRoaXMuX2lkXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHByb2ZpbGUpIHtcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gcHJvZmlsZS5uYW1lO1xuICAgIHRoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gcHJvZmlsZS5hYm91dDtcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gcHJvZmlsZS5hdmF0YXI7XG4gICAgdGhpcy5faWQgPSBwcm9maWxlLl9pZDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIF9oYW5kbGVSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldFByb2ZpbGUoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9dXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKSk7XG4gIH1cblxuICBzZXRBdmF0YXIoZGF0YSkge1xuICAgIHJldHVybiAgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICB9KS50aGVuKChyZXNwb25zZSkgPT4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpKTt9XG5cbiAgdXBkYXRlUHJvZmlsZShkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9dXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGFib3V0OiBkYXRhLmFib3V0LFxuICAgICAgfSlcbiAgICB9KVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpKTtcbiAgICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXNwb25zZSkpO1xuICB9XG4gIGFkZENhcmQoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGxpbms6IGRhdGEubGlua1xuICAgICAgfSlcbiAgICB9KVxuICAgIC50aGVuKChyZXNwb25zZSkgPT4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpKTtcbiAgfVxuICBnZXREYXRhKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbIHRoaXMuZ2V0UHJvZmlsZSgpLCB0aGlzLmdldEluaXRpYWxDYXJkcygpIF0pXG4gIH1cblxuICBhZGRMaWtlKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy9saWtlcy8ke2RhdGF9YCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy8ke2RhdGF9YCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cERlbGV0ZUNvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXApIHtcbiAgICBzdXBlcihwb3B1cCk7XG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuX2Zvcm1TdWJtaXQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3NhdmUnKTtcbiAgfVxuXG4gIHNldE5ld0hhbmRsZXIoYWN0aW9uKSB7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGFjdGlvbjtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KCk7XG4gICAgfSlcbiAgfVxuXG4gIHNldEJ1dHRvblRleHQoaXNEZWxldGluZykge1xuICAgIGlmIChpc0RlbGV0aW5nKSB7XG4gICAgICB0aGlzLl9jb25maXJtQnV0dG9uLnRleHRDb250ZW50ID0gJ9Cj0LTQsNC70LXQvdC40LUuLi4nXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NvbmZpcm1CdXR0b24udGV4dENvbnRlbnQgPSAn0JTQsCdcbiAgICB9XG4gIH1cblxufVxuXG4iLCJjb25zdCBidXR0b25FZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xuY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGUtcG9wdXAnKTtcbmNvbnN0IHByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZScpO1xuY29uc3QgZm9ybUVsZW1lbnQgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJylcbmNvbnN0IHByb2ZpbGVOYW1lID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xuY29uc3QgaW5wdXRGaWVsZE5hbWUgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9maWVsZF9uYW1lJyk7XG5jb25zdCBwcm9maWxlQWJvdXQgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19kZXNjcmlwdGlvbicpO1xuY29uc3QgaW5wdXRGaWVsZERlc2MgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9maWVsZF9kZXNjcmlwdGlvbicpO1xuY29uc3QgYnV0dG9uQWRkQ2FyZFBvcHVwID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWNhcmQnKTtcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcbmNvbnN0IHBvcHVwQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLXBvcHVwJyk7XG5jb25zdCBjYXJkRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHMnKTtcbmNvbnN0IGNhcmRFbGVtZW50ID0gcG9wdXBDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuY29uc3QgcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZS1wb3B1cCcpO1xuY29uc3QgcG9wdXBEZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGVsZXRlLXBvcHVwJyk7XG5jb25zdCBhcGlJbmZvID0ge1xuICB1cmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTI3LycsXG4gIHRva2VuOiAnMjZjOGQxNjgtNWUyZi00MzIxLWI0MjAtMDVkY2I0MWU5OTY1J1xufVxubGV0IHVzZXJJZCA9IG51bGw7XG5cbmV4cG9ydCB7YnV0dG9uRWRpdFByb2ZpbGUsIHBvcHVwUHJvZmlsZSwgcHJvZmlsZSwgZm9ybUVsZW1lbnQsIHByb2ZpbGVOYW1lLCBpbnB1dEZpZWxkTmFtZSwgcHJvZmlsZUFib3V0LFxuICBpbnB1dEZpZWxkRGVzYywgYnV0dG9uQWRkQ2FyZFBvcHVwLCBwcm9maWxlQXZhdGFyLCBwb3B1cENhcmQsIGNhcmRFbGVtZW50cywgY2FyZEVsZW1lbnQsIHBvcHVwSW1hZ2UsIGFwaUluZm8sIHVzZXJJZCwgcG9wdXBEZWxldGV9XG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcbmltcG9ydCB7ZW5hYmxlVmFsaWRhdGlvbkNvbmZpZ30gZnJvbSAnLi4vdXRpbHMvdmFsaWRhdGlvbkNvbmZpZy5qcyc7XG5pbXBvcnR7Q2FyZH0gZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydHtGb3JtVmFsaWRhdG9yfSBmcm9tICcuLi9jb21wb25lbnRzL3ZhbGlkYXRlLmpzJztcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcydcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpJztcbmltcG9ydCBQb3B1cERlbGV0ZUNvbmZpcm1hdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwRGVsZXRlQ29uZmlybWF0aW9uJztcbmltcG9ydCB7XG4gIHVzZXJJZCxcbiAgYnV0dG9uRWRpdFByb2ZpbGUsXG4gIHBvcHVwUHJvZmlsZSxcbiAgcHJvZmlsZSxcbiAgZm9ybUVsZW1lbnQsXG4gIHByb2ZpbGVOYW1lLFxuICBpbnB1dEZpZWxkTmFtZSxcbiAgcHJvZmlsZUFib3V0LFxuICBpbnB1dEZpZWxkRGVzYyxcbiAgYnV0dG9uQWRkQ2FyZFBvcHVwLFxuICBwcm9maWxlQXZhdGFyLFxuICBwb3B1cENhcmQsXG4gIGNhcmRFbGVtZW50LFxuICBjYXJkRWxlbWVudHMsXG4gIHBvcHVwSW1hZ2UsXG4gIGFwaUluZm8sXG4gIHBvcHVwRGVsZXRlXG59IGZyb20gJy4uL3V0aWxzL3ZhcmlhYmxlcy5qcydcblxuXG5cbi8vVE9ETzpcbi8v0KPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4XG4vL9C/0L7RgdGC0LDQvdC+0LLQutCwINC70LDQudC60LAg0YfQtdGA0LXQtyBQVVRcbi8v0YPQtNCw0LvQtdC90LjQtSDQu9Cw0LnQutCwINGH0LXRgNC10LcgREVMRVRFXG4vL9C+0LHQvdC+0LLQu9C10L3QuNC1INCw0LLQsNGC0LDRgNCwXG4vL9Cb0L7QsNC00LXRgNGLINC00LvRjyDQstGB0LXRhSDRhNC+0YDQvFxuXG5cblxuLy/Qn9GA0L7RhNC40LvRjFxuXG5jb25zdCBmb3JtVmFsaWRhdG9yUHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKGVuYWJsZVZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50KTtcbmZvcm1WYWxpZGF0b3JQcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTsvL9Cy0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvNGLINC/0YDQvtGE0LjQu9GPXG5cbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cFByb2ZpbGUsIGhhbmRsZVN1Ym1pdFByb2ZpbGUpO1xucG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCB1c2VyUHJvZmlsZSA9IG5ldyBVc2VySW5mbyhwcm9maWxlTmFtZSwgcHJvZmlsZUFib3V0LCBwcm9maWxlQXZhdGFyLCB1c2VySWQpO1xuXG5mdW5jdGlvbiBoYW5kbGVVc2VyUHJvZmlsZSgpIHsgLy/QvtGC0LrRgNGL0YLQuNC1INC/0L7Qvy3QsNC/0LAg0L/RgNC+0YTQuNC70Y8g0YEg0L/QtdGA0LXQvdC+0YHQvtC8INCyINC40L3Qv9GD0YLRi1xuICBwb3B1cEVkaXRQcm9maWxlLm9wZW4oKTtcbiAgZm9ybVZhbGlkYXRvclByb2ZpbGUucmVzZXRFcnJvcigpO1xuICBjb25zdCBwcm9maWxlID0gdXNlclByb2ZpbGUuZ2V0VXNlckluZm8oKTtcbiAgaW5wdXRGaWVsZE5hbWUudmFsdWUgPSBwcm9maWxlLm5hbWU7XG4gIGlucHV0RmllbGREZXNjLnZhbHVlID0gcHJvZmlsZS5hYm91dDtcbn1cbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdFByb2ZpbGUoZm9ybSkgeyAvLyDRgdCw0LHQvNC40YIg0L/QvtC/LdCw0L/QsCDQv9GA0L7RhNC40LvRj1xuICBhcGkudXBkYXRlUHJvZmlsZShmb3JtKTtcbiAgdXNlclByb2ZpbGUuc2V0VXNlckluZm8oZm9ybSk7XG59XG5cbi8v0J/RgNC10LTQt9Cw0LPRgNGD0LbQtdC90L3Ri9C1INC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IGhhbmRsZU9wZW5JbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cEltYWdlKTtcbmhhbmRsZU9wZW5JbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluaykgeyAvL9Ce0YLQutGA0YvRgtC40LUg0YPQstC10LvQuNGH0LXQvdC90L7QuSDQutCw0YDRgtC+0YfQutC4XG4gIGhhbmRsZU9wZW5JbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xufTtcblxuZnVuY3Rpb24gY2FyZFJlbmRlcmVyKGNhcmRJdGVtKSB7IC8v0L7RgtGA0LjRgdC+0LLQutCwINC60LDRgNGC0L7Rh9C60LhcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGNhcmRJdGVtLFxuICAgICcuY2FyZC10ZW1wbGF0ZScsXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxuICAgIHVzZXJQcm9maWxlLmdldFVzZXJJbmZvKCkuaWQsXG4gICAgKCkgPT4gaGFuZGxlRGVsZXRlQnV0dG9uKGNhcmQpLFxuICAgICgpID0+IGhhbmRsZUxpa2VDbGljayhjYXJkLCBjYXJkSXRlbSlcbiAgICApO1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQucmVuZGVyQ2FyZCgpO1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG5cbmNvbnN0IHJlbmRlckNhcmRzID0gbmV3IFNlY3Rpb24oKGl0ZW0pID0+IHtcbiAgcmVuZGVyQ2FyZHMuYWRkQ2FyZChjYXJkUmVuZGVyZXIoaXRlbSkpXG59LCBjYXJkRWxlbWVudHMpO1xuXG5cbi8v0J/QvtC00YLQstC10YDQttC00LXQvdC40LUg0L/RgNC4INGD0LTQsNC70LXQvdC40Lgg0LrQsNGA0YLQvtGH0LrQuFxuY29uc3QgcG9wdXBEZWxldGVDb25maXJtYXRpb24gPSBuZXcgUG9wdXBEZWxldGVDb25maXJtYXRpb24ocG9wdXBEZWxldGUpO1xucG9wdXBEZWxldGVDb25maXJtYXRpb24uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQnV0dG9uKGNhcmQpIHtcbiAgcG9wdXBEZWxldGVDb25maXJtYXRpb24ub3BlbigpO1xuICBwb3B1cERlbGV0ZUNvbmZpcm1hdGlvbi5zZXROZXdIYW5kbGVyKCgpID0+IHtcbiAgICBwb3B1cERlbGV0ZUNvbmZpcm1hdGlvbi5zZXRCdXR0b25UZXh0KHRydWUpXG4gICAgYXBpLmRlbGV0ZUNhcmQoY2FyZC5jYXJkSWQoKSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjYXJkLmhhbmRsZURlbGV0ZUNhcmQoKTtcbiAgICAgIHBvcHVwRGVsZXRlQ29uZmlybWF0aW9uLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwb3B1cERlbGV0ZUNvbmZpcm1hdGlvbi5zZXRCdXR0b25UZXh0KGZhbHNlKTtcbiAgICB9KVxuICB9KVxufVxuXG4vLyDQndC+0LLQsNGPINC60LDRgNGC0L7Rh9C60LBcbmNvbnN0IGZvcm1WYWxpZGF0b3JDYXJkID0gbmV3IEZvcm1WYWxpZGF0b3IoZW5hYmxlVmFsaWRhdGlvbkNvbmZpZywgY2FyZEVsZW1lbnQpO1xuZm9ybVZhbGlkYXRvckNhcmQuZW5hYmxlVmFsaWRhdGlvbigpOy8vINCy0LDQu9C40LTQsNGG0LjRjyDQv9C+0L8t0LDQv9CwINC60LDRgNGC0L7Rh9C60LhcblxuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBDYXJkLCBoYW5kbGVTdWJtaXRDYXJkKTtcbnBvcHVwQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBvcGVuQWRkQ2FyZFBvcHVwKCkge1xuICBwb3B1cEFkZENhcmQub3BlbigpO1xuICBmb3JtVmFsaWRhdG9yQ2FyZC5yZXNldEVycm9yKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdENhcmQoZm9ybSkge1xuICBhcGkuYWRkQ2FyZChmb3JtKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHJlbmRlckNhcmRzLmFkZEN1c3RvbUNhcmQoY2FyZFJlbmRlcmVyKHJlcykpXG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCwg0YDQstCw0YLRjCDQtdGRINC80LDRgtGMIScgKyBlcnIudG9TdHJpbmcoKSkpXG59XG4vL0FQSVxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IGFwaUluZm8udXJsLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogYXBpSW5mby50b2tlbixcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH19KTtcblxuXG4vLyBmdW5jdGlvbiBnZXRQcm9maWxlSW5mbygpIHtcbi8vICAgcmV0dXJuIGFwaS5nZXRQcm9maWxlKClcbi8vIH1cblxuLy8gZnVuY3Rpb24gZ2V0Q2FyZHNJbmZvKCkge1xuLy8gICByZXR1cm4gYXBpLmdldEluaXRpYWxDYXJkcygpXG4vLyB9XG5cbmFwaS5nZXREYXRhKCkudGhlbihkYXRhID0+IHtcbiAgY29uc3QgWyB1c2VySW5mbywgY2FyZHMgIF0gPSBkYXRhO1xuICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyh1c2VySW5mbyk7XG4gIHJlbmRlckNhcmRzLmFkZEluaXRpYWxDYXJkcyhjYXJkcyk7XG4gIC8vIGNvbnNvbGUubG9nKHVzZXJJbmZvKVxuICAvLyBjb25zb2xlLmxvZyh1c2VyUHJvZmlsZSlcbn0pLnRoZW4oKVxuXG4uY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCwg0YDQstCw0YLRjCDQtdGRINC80LDRgtGMIScgKyBlcnIudG9TdHJpbmcoKSkpXG5cbi8vIFByb21pc2UuYWxsKFtnZXRQcm9maWxlSW5mbygpLCBnZXRDYXJkc0luZm8oKV0pLnRoZW4oKHZhbHVlcykgPT4ge1xuLy8gICBjb25zdCB1c2VyUHJvZmlsZURhdGEgPSB2YWx1ZXNbMF07XG4vLyAgIGNvbnN0IGluaXRpYWxDYXJkc0RhdGEgPSB2YWx1ZXNbMV07XG4vLyAgIGNvbnN0IHVzZXJJbmZvID0ge1xuLy8gICAgICduYW1lJzogdXNlclByb2ZpbGVEYXRhLm5hbWUsXG4vLyAgICAgJ2Fib3V0JzogdXNlclByb2ZpbGVEYXRhLmFib3V0LFxuLy8gICAgICdhdmF0YXInOiB1c2VyUHJvZmlsZURhdGEuYXZhdGFyLFxuLy8gICAgICdpZCc6IHVzZXJQcm9maWxlRGF0YS5faWRcbi8vICAgfVxuLy8gICB1c2VyUHJvZmlsZS5zZXRVc2VySW5mbyh1c2VySW5mbyk7XG4vLyAgIHJlbmRlckNhcmRzLmFkZEluaXRpYWxDYXJkcyhpbml0aWFsQ2FyZHNEYXRhKTtcbi8vIH0pLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LAsINGA0LLQsNGC0Ywg0LXRkSDQvNCw0YLRjCEnICsgZXJyLnRvU3RyaW5nKCkpKVxuXG5cblxuLy/QodC70YPRiNCw0YLQtdC70Lgg0LrQvdC+0L/QvtC6INC/0L7Qvy3QsNC/0L7QslxuYnV0dG9uRWRpdFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVVc2VyUHJvZmlsZSk7XG5idXR0b25BZGRDYXJkUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWRkQ2FyZFBvcHVwKTtcblxuXG4vL9Cf0YDQvtCy0LXRgNC60LAg0YDQsNCx0L7RgtGLINGB0LXRgNCy0LXRgNCwXG5cbmZldGNoKCdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTI3L2NhcmRzJywge1xuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJzI2YzhkMTY4LTVlMmYtNDMyMS1iNDIwLTA1ZGNiNDFlOTk2NSdcbiAgfVxufSlcbiAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gIC50aGVuKChjYXJkcykgPT4ge1xuICAgIGNvbnNvbGUubG9nKGNhcmRzKTtcbiAgfSk7XG4iXSwic291cmNlUm9vdCI6IiJ9